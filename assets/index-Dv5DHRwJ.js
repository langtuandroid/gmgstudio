import{initializeApp as ce}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";import{getAnalytics as de}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";import{j as e,m as X,L as G,r as a,u as H,a as me,b as ue,Q as he,B as ge,R as fe,c as F,i as pe,g as xe,d as je}from"./vendor-DFYzyaG4.js";import{l as re,a as le,c as ie,m as se,e as ve,y as ye,r as be,u as Ne,d as we,b as Se,s as Ce,f as ke,g as Ge,q as Ie,h as Ee,i as $e}from"./assets-BME0Xyhg.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const y of i.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function h(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=h(r);fetch(r.href,i)}})();const Le={apiKey:"AIzaSyC__9_RAHbGLchSKPVY044w3g87xPSkoGw",authDomain:"gmg-studio-38512.firebaseapp.com",projectId:"gmg-studio-38512",storageBucket:"gmg-studio-38512.firebasestorage.app",messagingSenderId:"365625944904",appId:"1:365625944904:web:be99cb2382c38813dee17d",measurementId:"G-H8E6JG24D0"},De=ce(Le);de(De);function Ae(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function L({game:n}){return e.jsx(X.div,{children:e.jsxs(G,{className:"game-card",id:n.id,to:`/game/${n.id}/${Ae(n.name)}`,style:{backgroundImage:`linear-gradient(
      rgba(40, 40, 40, 0.0),
      rgba(20, 20, 20, 0.3)
    ), url("${n.thumb_url}")`},children:[e.jsx("img",{src:`https://gmg-studio.com${n.thumb_url}`,alt:`Play ${n.name} – Free ${n.genre||"Online"} on GmG Studio`,loading:"lazy",style:{position:"absolute",width:"1px",height:"1px",opacity:0,pointerEvents:"none"}}),e.jsx("span",{children:n.name})]})})}const oe=a.createContext([]),Re=({children:n})=>{const[c,h]=a.useState([]);return a.useEffect(()=>{(async()=>{try{const o=await re(),i=[...Array.isArray(o==null?void 0:o.games)?o.games:[]].sort((y,l)=>((y==null?void 0:y.name)??"").localeCompare((l==null?void 0:l.name)??""));h(i),console.log("coing abc",i.length)}catch(o){console.error("Failed to load games:",o)}})()},[]),e.jsx(oe.Provider,{value:c,children:n})},Z=()=>a.useContext(oe);function ee(){const n=Z(),[c,h]=a.useState([]),[o,r]=a.useState(""),[i,y]=a.useState(!1),[l,u]=a.useState(!1),[t,I]=a.useState(()=>{try{return JSON.parse(localStorage.getItem("mode"))||!1}catch{return!1}}),p=a.useRef(null),k=a.useRef(null);function O(j){u(!1),r(j.target.value)}return a.useEffect(()=>{const j=setTimeout(()=>{if(o.trim()){const D=o.toLowerCase();h(n.filter(C=>(C.name??"").toLowerCase().includes(D)).slice(0,5))}else h([])},300);return()=>clearTimeout(j)},[o,n]),a.useEffect(()=>{t?document.body.classList.add("light"):document.body.classList.remove("light"),localStorage.setItem("mode",JSON.stringify(t))},[t]),a.useEffect(()=>{function j(D){k.current&&!k.current.contains(D.target)&&y(!1)}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),e.jsxs("nav",{className:"nav",children:[e.jsxs(G,{to:"/",className:"nav-logo",onClick:()=>r(""),children:[e.jsx("img",{src:le,alt:"Logo"}),e.jsx("span",{className:"nav-logo-text",children:"GmG"})]}),e.jsxs("div",{className:"nav-search-container",ref:k,children:[e.jsxs("div",{className:"nav-search-bar",children:[e.jsx("input",{type:"text",className:"nav-search",placeholder:`Search ${n.length||500}+ free online games`,value:o,onClick:()=>u(!1),onChange:O,onFocus:()=>y(!0),ref:p,"aria-label":"Search games"}),o.length>0&&e.jsx("img",{src:ie,title:"Clear search",className:"nav-search-img",onClick:()=>{var j;u(!1),r(""),(j=p.current)==null||j.focus()},alt:"Clear search"})]}),c.length>0&&i&&e.jsx("div",{className:"nav-search-results",children:c.map(j=>e.jsx(L,{game:j,onClick:()=>{r(""),y(!1)}},j.id))})]}),e.jsxs("div",{className:"nav-right",children:[e.jsxs("div",{className:"nav-links",children:[e.jsx(G,{to:"/new",className:"nav-link",children:"New"}),e.jsx(G,{to:"/trending",className:"nav-link",children:"Trending"}),e.jsx(G,{to:"/recent",className:"nav-link",children:"Recent"}),e.jsx(G,{to:"/settings",className:"nav-link",children:"Settings"})]}),e.jsx(X.img,{whileHover:{scale:1.2,rotate:360},whileTap:{scale:1.1,rotate:320},transition:{duration:.7,type:"spring"},src:se,title:"Toggle light mode",className:"nav-img toggle-desktop",onClick:()=>I(j=>!j),alt:"Toggle light mode"})]}),e.jsx("button",{className:"nav-menu-btn",onClick:()=>u(j=>!j),"aria-label":"Toggle menu","aria-expanded":l,"aria-controls":"mobile-menu",children:"☰"}),l&&e.jsxs("div",{id:"mobile-menu",className:"nav-menu",children:[e.jsx(G,{to:"/new",className:"nav-link",onClick:()=>u(!1),children:"New"}),e.jsx(G,{to:"/trending",className:"nav-link",onClick:()=>u(!1),children:"Trending"}),e.jsx(G,{to:"/recent",className:"nav-link",onClick:()=>u(!1),children:"Recent"}),e.jsx(G,{to:"/settings",className:"nav-link",onClick:()=>u(!1),children:"Settings"}),e.jsx(X.img,{whileHover:{scale:1.2,rotate:360},whileTap:{scale:1.1,rotate:320},transition:{duration:.7,type:"spring"},src:se,title:"Toggle light mode",className:"nav-img toggle-mobile",onClick:()=>{I(j=>!j)},alt:"Toggle light mode"})]})]})}function te(){return e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-column",children:[e.jsxs(G,{to:"/",className:"footer-logo",children:[e.jsx("img",{src:le,alt:"GMG Game"})," GmG"]}),e.jsxs("div",{className:"footer-copy",children:["© ",new Date().getFullYear()," ",e.jsx("a",{href:"https://gmg-studio.com",target:"_blank",children:"GmG Studio"})]}),e.jsx("div",{className:"footer-copy",children:"All rights reserved"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Browse Games"}),e.jsx(G,{to:"/",className:"footer-link",children:"Home"}),e.jsx(G,{to:"/new",className:"footer-link",children:"New"}),e.jsx(G,{to:"/trending",className:"footer-link",children:"Trending"}),e.jsx(G,{to:"/recent",className:"footer-link",children:"Recent"}),e.jsx(G,{to:"/settings",className:"footer-link",children:"Settings"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Policy"}),e.jsx("a",{href:"/policy.html",className:"footer-link",target:"_blank",children:"Privacy Policy"}),e.jsx("a",{href:"/terms.html",className:"footer-link",target:"_blank",children:"Terms of Use"}),e.jsx("a",{href:"/cookies.html",className:"footer-link",target:"_blank",children:"Cookie Policy"})]}),e.jsx("div",{className:"footer-column"}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Social"}),e.jsxs("div",{className:"footer-social",children:[e.jsx("a",{href:"mailto:gmg.funygame@gmail.com@gmail.com",target:"_blank",className:"footer-icon",title:"Email us",children:e.jsx("img",{src:ve,alt:"Contact via email"})}),e.jsx("a",{href:"https://www.youtube.com/@gmg5430",target:"_blank",className:"footer-icon",title:"YouTube",children:e.jsx("img",{src:ye,alt:"Visit our YouTube channel"})})]})]})]})}function ae({label:n,options:c}){const h=a.useRef(),[o,r]=a.useState(!1),[i,y]=a.useState(n);return a.useEffect(()=>{const l=u=>{h.current&&!h.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),e.jsxs("div",{className:"filter",ref:h,children:[e.jsx("div",{className:"label",onClick:()=>r(!o),children:i}),o&&e.jsx("ul",{className:"filter-list",children:c.map((l,u)=>e.jsx("li",{className:"filter-item",onClick:()=>{l.onClick(),y(l.complete),r(!1)},children:l.label},u))})]})}const _e="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7901739962631907";function Fe(){return new Promise((n,c)=>{if(window.adsbygoogle&&window.adsbygoogle.push)return n();const h=document.querySelector('script[src^="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]');if(h){h.addEventListener("load",()=>n()),h.addEventListener("error",r=>c(r));return}const o=document.createElement("script");o.async=!0,o.src=_e,o.crossOrigin="anonymous",o.addEventListener("load",()=>n()),o.addEventListener("error",r=>c(r)),document.head.appendChild(o)})}function $({type:n}){const c=a.useRef(null),h=H();return a.useEffect(()=>{if(window.adsbygoogle&&window.adsbygoogle.loaded)try{for(;c.current.firstChild;)c.current.removeChild(c.current.firstChild)}catch(i){console.error("Error clearing old ads:",i)}let o=!1;return(async()=>{try{if(await Fe(),o||!c.current)return;c.current.innerHTML="";const i=document.createElement("ins");i.className="adsbygoogle",i.style.display="block",i.setAttribute("data-ad-client","ca-pub-7901739962631907"),i.setAttribute("data-ad-slot",n),i.setAttribute("data-ad-format","auto"),i.setAttribute("data-full-width-responsive","true"),c.current.appendChild(i),(window.adsbygoogle=window.adsbygoogle||[]).push()}catch(i){console.error("Adsense mount error",i)}})(),()=>{if(window.adsbygoogle&&window.adsbygoogle.loaded)try{for(;c.current.firstChild;)c.current.removeChild(c.current.firstChild)}catch(i){console.error("Error clearing old ads:",i)}o=!0}},[h.pathname]),e.jsx("div",{className:"ad-container",ref:c})}function Oe({currentPage:n,totalPages:c,goToPage:h}){const r=[],i=[];let y;for(let l=1;l<=c;l++)(l===1||l===c||l>=n-1&&l<=n+1)&&r.push(l);for(let l of r)y&&(l-y===2?i.push(y+1):l-y!==1&&i.push("...")),i.push(l),y=l;return c<=7?e.jsxs("div",{className:"pagination",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>h(n-1),disabled:n===1,"aria-label":"Previous Page",children:"Previous"}),[...Array(c)].map((l,u)=>{const t=u+1;return e.jsx("button",{onClick:()=>h(t),className:t===n?"active":"","aria-current":t===n?"page":void 0,"aria-label":`Page ${t}`,children:t},t)}),e.jsx("button",{onClick:()=>h(n+1),disabled:n===c,"aria-label":"Next Page",children:"Next"})]}):e.jsxs("div",{className:"pagination",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>h(n-1),disabled:n===1,"aria-label":"Previous Page",children:"Previous"}),i.map((l,u)=>l==="..."?e.jsx("span",{className:"dots","aria-hidden":"true",children:"..."},`dots-${u}`):e.jsx("button",{onClick:()=>h(l),className:l===n?"active":"","aria-current":l===n?"page":void 0,"aria-label":`Page ${l}`,children:l},l)),e.jsx("button",{onClick:()=>h(n+1),disabled:n===c,"aria-label":"Next Page",children:"Next"})]})}function Te(){const[n,c]=a.useState(""),[h,o]=a.useState("r"),r=Z(),[i,y]=a.useState(()=>{try{const d=localStorage.getItem("favorites");return d?JSON.parse(d):[]}catch{return[]}}),[l,u]=a.useState(null),[t,I]=a.useState(localStorage.getItem("modal")?JSON.parse(localStorage.getItem("modal")):!0),[p,k]=a.useState("all"),O=a.useRef();H();const j=30,[D,C]=a.useState(1);a.useEffect(()=>{try{localStorage.setItem("favorites",JSON.stringify(i))}catch{}},[i]);const M=a.useMemo(()=>r.filter(d=>{var v;return i.includes((v=d.id)==null?void 0:v.toString())}),[r,i]);function K(d){c(d.target.value),C(1)}function J(){if(r.length===0)return;let d;do{const v=Math.floor(Math.random()*r.length);d=r[v]}while(d===l&&r.length>1);u(d)}function R(){confirm("Are you sure you want to remove all your favorited games? This action cannot be undone.")&&y([])}a.useEffect(()=>{localStorage.setItem("modal",JSON.stringify(t))},[t]);const A=d=>{const v=new Date(d);return isNaN(v)?new Date(0):v},N=a.useMemo(()=>({all:r.length,featured:r.filter(d=>d.featured).length,action:r.filter(d=>d.category==="action").length,strategy:r.filter(d=>d.category==="strategy").length,casual:r.filter(d=>d.category==="casual").length,driving:r.filter(d=>d.category==="driving").length,downloadable:r.filter(d=>d.download).length}),[r]),T=a.useMemo(()=>{const d=n.trim().toLowerCase();let v=r.filter(f=>p==="all"?!0:p==="featured"?f.featured:p==="downloadable"?f.download:f.category===p);switch(d&&(v=v.filter(f=>{var b;return(b=f.name)==null?void 0:b.toLowerCase().includes(d)})),h){case"a":v.sort((f,b)=>((f==null?void 0:f.name)??"").localeCompare((b==null?void 0:b.name)??""));break;case"a_rev":v.sort((f,b)=>((b==null?void 0:b.name)??"").localeCompare((f==null?void 0:f.name)??""));break;case"c":v.sort((f,b)=>((f==null?void 0:f.category)??"").localeCompare((b==null?void 0:b.category)??""));break;case"c_rev":v.sort((f,b)=>((b==null?void 0:b.category)??"").localeCompare((f==null?void 0:f.category)??""));break;case"r":v.sort((f,b)=>A(b.releaseDate)-A(f.releaseDate));break;case"r_rev":v.sort((f,b)=>A(f.releaseDate)-A(b.releaseDate));break}return v},[r,n,h,p]),P=D*j,Y=P-j,z=T.slice(Y,P),B=Math.ceil(T.length/j);function U(d){d<1||d>B||C(d)}return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"hero",children:[e.jsx("h1",{className:"hero-title",children:"Welcome to GmG H5 !"}),e.jsx("p",{className:"hero-description",children:"Fun, redefined: hundreds of free online games. Endless fun. Infinite possibilities."}),e.jsxs("div",{className:"hero-search",children:[e.jsx("input",{className:"hero-search-bar",ref:O,placeholder:"Search 500+ free online games",onChange:K,value:n,"aria-label":"Search games"}),n.length!==0&&e.jsx("button",{className:"hero-search-img",onClick:()=>{c(""),O.current.focus(),C(1)},title:"Clear search","aria-label":"Clear search",children:e.jsx("img",{src:ie,alt:"Clear search"})}),e.jsx("div",{className:"hero-search-img",children:e.jsx("img",{src:be,title:"Random game",alt:"Random game",onClick:J})})]}),e.jsxs("div",{className:"hero-filters",children:[e.jsx(ae,{label:`Sort By: ${["a","a_rev"].includes(h)?"Name":["c","c_rev"].includes(h)?"Category":"Release"}`,options:[{complete:"Sort By: Name",label:"Name",onClick:()=>{o("a"),C(1)}},{complete:"Sort By: Category",label:"Category",onClick:()=>{o("c"),C(1)}},{complete:"Sort By: Release",label:"Release",onClick:()=>{o("r"),C(1)}}]}),e.jsx(ae,{label:p==="all"?`Filter All (${N.all})`:p==="featured"?`Featured Games (${N.featured})`:p==="action"?`Action (${N.action})`:p==="strategy"?`Strategy (${N.strategy})`:p==="casual"?`Casual (${N.casual})`:p==="driving"?`Driving (${N.driving})`:p==="downloadable"?`Downloadable (${N.downloadable})`:"Filter",options:[{complete:`Filter All (${N.all})`,label:"All",onClick:()=>{k("all"),C(1)}},{complete:`Featured Games (${N.featured})`,label:`Featured (${N.featured})`,onClick:()=>{k("featured"),C(1)}},{complete:`Action & Adventure (${N.action})`,label:`Action (${N.action})`,onClick:()=>{k("action"),C(1)}},{complete:`Strategy & Puzzle (${N.strategy})`,label:`Strategy (${N.strategy})`,onClick:()=>{k("strategy"),C(1)}},{complete:`Casual & Idle (${N.casual})`,label:`Casual (${N.casual})`,onClick:()=>{k("casual"),C(1)}},{complete:`Driving & Sports (${N.driving})`,label:`Driving (${N.driving})`,onClick:()=>{k("driving"),C(1)}},{complete:`Downloadable Games (${N.downloadable})`,label:`Downloadable (${N.downloadable})`,onClick:()=>{k("downloadable"),C(1)}}]}),e.jsx("button",{className:"filter direction",onClick:d=>{d.currentTarget.classList.toggle("direction-flip"),C(1),o(v=>v==="a"?"a_rev":v==="a_rev"?"a":v==="c"?"c_rev":v==="c_rev"?"c":v==="r"?"r_rev":v==="r_rev"?"r":"a")},"aria-label":"Toggle sort direction",children:e.jsx("img",{src:Ne,alt:"Toggle direction"})})]})]}),l&&e.jsx("div",{className:"games-container games-centered",children:e.jsx(L,{game:l})}),M.length>0&&e.jsxs("div",{className:"favorites-container",children:[e.jsx("h2",{children:"Favorites"}),e.jsx("div",{className:"favorites-delete",onClick:R,role:"button",tabIndex:0,"aria-label":"Remove all favorites",onKeyDown:d=>{d.key==="Enter"&&R()},children:e.jsx("img",{src:we,alt:"Delete favorites",className:"hero-search-img"})}),e.jsx("div",{className:"favorites-list",children:M.map(d=>e.jsx(L,{game:d},d.id))})]}),e.jsx($,{type:"3495912284"}),e.jsxs("div",{className:"games-container",children:[z.length===0&&e.jsx("div",{children:"No games found."}),z.map(d=>e.jsx(L,{game:d},d.id))]}),B>1&&e.jsx(Oe,{currentPage:D,totalPages:B,goToPage:U}),e.jsx($,{type:"2369730540"})]}),e.jsx(te,{})]})]})}function Me({title:n,description:c,setState:h}){function o(){h(!1)}return e.jsx("div",{className:"popup",children:e.jsxs("div",{className:"popup-block",children:[e.jsx("h2",{className:"popup-title",children:n}),e.jsx("p",{className:"popup-description",children:c}),e.jsx("button",{className:"popup-close",onClick:o,children:"Ok"})]})})}function ne(){const c=H(),h=me(),o=a.useRef(null),r=a.useRef(null),i=a.useRef(!1),{id:y}=ue(),l=String(y),u=Z(),[t,I]=a.useState(null),[p,k]=a.useState(()=>{try{const s=localStorage.getItem("favorites"),g=s?JSON.parse(s):[];return Array.isArray(g)?g.map(String):[]}catch{return[]}}),O=p.includes(l),[j,D]=a.useState(()=>{try{const s=localStorage.getItem("recents"),g=s?JSON.parse(s):[];return Array.isArray(g)?g.map(String):[]}catch{return[]}}),[C,M]=a.useState(!1),[K,J]=a.useState(!1),[R,A]=a.useState(!1),[N,T]=a.useState(!1),[P,Y]=a.useState({left:0,top:0}),z=a.useRef(null);function B(s){switch(s){case"strategy":return"Strategy and Puzzle";case"action":return"Action and Adventure";case"casual":return"Casual and Idle";case"driving":return"Driving and Sports";default:return"Other"}}function U(){k(s=>s.includes(l)?s.filter(g=>g!==l):[l,...s])}function d(){var g;const s=!!document.fullscreenElement;s?document.exitFullscreen():(g=o.current)!=null&&g.requestFullscreen&&o.current.requestFullscreen(),M(!s)}a.useEffect(()=>{const s=localStorage.getItem("theme");s&&document.body.classList.add(s)},[]),a.useEffect(()=>{const s=()=>{document.fullscreenElement||M(!1)};return window.addEventListener("fullscreenchange",s),()=>window.removeEventListener("fullscreenchange",s)},[]),a.useEffect(()=>{D(s=>s.includes(l)?s:[l,...s.slice(0,19)])},[l]),a.useEffect(()=>{try{localStorage.setItem("recents",JSON.stringify(j))}catch{}},[j]),a.useEffect(()=>{try{localStorage.setItem("favorites",JSON.stringify(p))}catch{}},[p]),a.useEffect(()=>{if(!u.find(S=>String(S==null?void 0:S.id)===l)){h("/");return}let g=!0;return(async()=>{try{const S=await Se(l);if(!g)return;I(S)}catch(S){console.error("❌ Lỗi khi load game detail:",S),h("/")}})(),()=>{g=!1}},[l,h,c.pathname]),a.useEffect(()=>{if(!t||!o.current)return;const s=()=>{i.current=!0},g=()=>{i.current=!1},S=setInterval(()=>{var x;i.current&&document.activeElement!==r.current&&((x=r.current)==null||x.focus())},1e3),E=o.current;return E.addEventListener("mouseenter",s),E.addEventListener("mouseleave",g),()=>{E.removeEventListener("mouseenter",s),E.removeEventListener("mouseleave",g),clearInterval(S)}},[t==null?void 0:t.id]),a.useEffect(()=>{if(!t)return;const s=[m=>`${m.name} 🎮 Free Online Game | GmG`,m=>`Play ${m.name} – ${m.genre||"Fun"} Game | GmG`,m=>`${m.name} | Browser ${m.genre||"Game"} | GmG`,m=>`${m.name} 🕹️ Free to Play | GmG`,m=>`Enjoy ${m.name} – No Download Needed | GmG`,m=>`Play ${m.name} Online | Free ${m.category||"Game"} | GmG`,m=>`${m.name} | Free ${m.genre||"Casual"} Game | GmG`,m=>`Play ${m.name} Now – Online ${m.genre||"Game"} | GmG`,m=>`${m.name} 💡 Fun ${m.genre||"Puzzle"} Game | GmG`,m=>`${m.name} 🚀 Free to Play Online | GmG`,m=>`${m.name} 2025 – Free ${m.genre||"Online"} Game | GmG`],S=(m=>{var V;if(!(m!=null&&m.name))return"Play Free Games Online | GmG";const q=Number(m.id),Q=Number.isFinite(q)?Math.abs(q)%s.length:Math.abs(((V=m.name)==null?void 0:V.length)||0)%s.length;return s[Q](m)})(t);document.title=S;const E=t.about_short&&!t.about_short.includes("Oops")&&t.about_short||t.about&&!t.about.includes("Oops")&&t.about||"Play exciting online games on our platform.",x=E.length>180?`${E.slice(0,177)}...`:E;function w(m,q,Q=!1){const V=Q?`meta[property="${m}"]`:`meta[name="${m}"]`;let _=document.querySelector(V);_?_.setAttribute("content",q):(_=document.createElement("meta"),Q?_.setAttribute("property",m):_.setAttribute("name",m),_.setAttribute("content",q),document.head.appendChild(_))}w("title",S),w("description",x),w("og:title",S,!0),w("og:description",x,!0),w("og:type","website",!0),t.thumb_url&&w("og:image",t.thumb_url,!0),w("twitter:title",S),w("twitter:description",x),t.thumb_url&&w("twitter:image",t.thumb_url),w("twitter:card","summary_large_image"),w("application-name",`${S} - Lite Page`),w("apple-mobile-web-app-title",`${S} - Lite Page`)},[t]),a.useEffect(()=>{if(!t)return;const s={"@context":"https://schema.org","@type":"VideoGame",name:t.name,url:window.location.href,image:t.thumb_url||void 0,description:t.about_short||"Play exciting online games on our platform.",publisher:{"@type":"Organization",name:"GmG Studio"},genre:t.genre||"Other",gamePlatform:["Web","PC","Mobile"]},g=document.createElement("script");return g.type="application/ld+json",g.text=JSON.stringify(s),document.head.appendChild(g),()=>{document.head.removeChild(g)}},[t]);const v=()=>{const s=z.current;if(!s){A(m=>!m);return}const g=s.getBoundingClientRect(),S=320,E=300;let x=g.right-S;x<8&&(x=8);let w=g.top-E-12;w<8&&(w=8),Y({left:x,top:w}),T(!1),A(!0)},f=()=>{T(!0),setTimeout(()=>{A(!1),T(!1)},220)};a.useEffect(()=>{if(!R)return;const s=()=>f();return window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[R]);const b=!!(t!=null&&t.id);return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),b&&e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"game-page",children:[e.jsxs("div",{className:"game-content",children:[e.jsxs("div",{className:"game-frame",ref:o,children:[e.jsx("iframe",{src:t.link,ref:r,sandbox:"allow-scripts allow-same-origin allow-pointer-lock",tabIndex:-1,title:t.name}),e.jsxs("div",{className:"toolbar",children:[e.jsxs("div",{className:"game-name",children:[t.thumb_url&&e.jsx("img",{src:t.thumb_url,alt:t.name||"Game"}),e.jsx("h2",{children:t.name})]}),e.jsxs("div",{className:"toolbar-icons",children:[e.jsx("img",{className:"toolbar-icon",title:"Favorite game",src:O?Ce:ke,onClick:U,alt:"Favorite"}),e.jsx("img",{className:"toolbar-icon",title:"Share game",src:Ge,onClick:()=>{var s;(s=navigator.clipboard)==null||s.writeText(window.location.href),J(!0)},alt:"Share"}),e.jsx("img",{className:"toolbar-icon",ref:z,src:Ie,alt:"QR",title:"Show QR to continue on phone",onClick:()=>R?f():v()}),e.jsx("img",{className:"toolbar-icon",title:"Toggle fullscreen",src:C?Ee:$e,onClick:d,alt:"Fullscreen"})]}),R&&e.jsx("div",{className:`qr-flyout ${N?"leave":"enter"}`,style:{position:"fixed",left:`${P.left}px`,top:`${P.top}px`,width:320,zIndex:9999,pointerEvents:"auto"},children:e.jsxs("div",{style:{background:"#1e1f29",color:"#fff",borderRadius:16,padding:16,boxShadow:"0 12px 28px rgba(0,0,0,0.35)",position:"relative",overflow:"hidden"},children:[e.jsx("button",{onClick:f,"aria-label":"Close",style:{position:"absolute",top:8,right:8,background:"transparent",border:"none",color:"#bdbdbd",fontSize:18,cursor:"pointer",lineHeight:1},children:"✕"}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("div",{style:{background:"#fff",borderRadius:12,padding:10,flex:"0 0 auto"},children:e.jsx(he,{value:window.location.href,size:120})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("h3",{style:{margin:"2px 0 6px",fontSize:16,fontWeight:700,color:"#c9a4ff"},children:"Continue on your phone or tablet!"}),e.jsxs("p",{style:{margin:0,fontSize:13.5,lineHeight:1.35,color:"#cfcfcf"},children:["Play ",e.jsx("b",{children:(t==null?void 0:t.name)||"this game"})," on your phone or tablet by scanning this QR code! It's available on iPads, iPhones, and any Android devices."]})]})]})]})})]})]}),e.jsx($,{type:"2369730540"},`2369730540-${c.pathname}`),e.jsxs("div",{className:"game-info",children:[(t==null?void 0:t.about)&&!t.about.includes("Oops")&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"About"}),e.jsx("p",{children:t.about})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsxs("h2",{children:["More ",t.genre]}),e.jsx("div",{className:"more-games",children:e.jsx("div",{className:"more-games-list",children:u.filter(s=>s.id!==t.id&&s.genre===t.genre).slice(0,8).map(s=>e.jsx(L,{game:s},s.id))})})]}),e.jsx($,{type:"5386776126",delay:200},`5386776126-${c.pathname}`),Array.isArray(t==null?void 0:t.controls)&&t.controls.length>0&&!t.controls.includes("Still working on this one O_O")&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Controls"}),e.jsx("ul",{children:t.controls.map((s,g)=>e.jsx("li",{children:s},g))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Game Information"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Developer: ",t.dev]}),e.jsxs("li",{children:["Category: ",B(t.category)]}),e.jsxs("li",{children:["Genre: ",t.genre]}),e.jsxs("li",{children:["Players: ",t.popularity]}),e.jsxs("li",{children:["Release Date: ",t.releaseDate]}),e.jsxs("li",{children:["Build: ",t.build]})]})]}),Array.isArray(t==null?void 0:t.faqs)&&t.faqs.length>0&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"FAQs"}),e.jsx("ul",{children:t.faqs.map((s,g)=>e.jsxs("li",{children:[e.jsx("strong",{children:s.name}),e.jsx("br",{}),s.text]},g))})]})]})]}),e.jsxs("div",{className:"right",children:[e.jsx($,{type:"7458405690"}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Trending Games"}),e.jsx("div",{className:"more-games-list",children:u.slice().sort((s,g)=>(g.popularity??0)-(s.popularity??0)).slice(0,8).map(s=>e.jsx(L,{game:s},s.id))})]}),e.jsx($,{type:"5386776126"}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"New Releases"}),e.jsx("div",{className:"more-games-list",children:u.slice().sort((s,g)=>new Date(g.releaseDate)-new Date(s.releaseDate)).slice(0,8).map(s=>e.jsx(L,{game:s},s.id))})]}),e.jsx($,{type:"2369730540"}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Recently Played"}),e.jsx("div",{className:"more-games-list",children:j.map(s=>u.find(g=>g.id.toString()===s)).filter(Boolean).slice(0,8).map(s=>e.jsx(L,{game:s},s.id))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx($,{type:"3495912284",delay:200},`3495912284-${c.pathname}`),e.jsx("h3",{children:"Discover More"}),e.jsx("div",{className:"more-games-list",children:(()=>{const s=u.slice().sort((x,w)=>(w.popularity??0)-(x.popularity??0)).slice(0,8),g=u.slice().sort((x,w)=>new Date(w.releaseDate)-new Date(x.releaseDate)).slice(0,8),S=JSON.parse(localStorage.getItem("playedGames")||"[]").map(x=>u.find(w=>w.id===x)).filter(Boolean).slice(0,8),E=new Set([t.id,...s.map(x=>x.id),...g.map(x=>x.id),...S.map(x=>x.id)]);return u.filter(x=>!E.has(x.id)).sort(()=>Math.random()-.5).slice(0,8).map(x=>e.jsx(L,{game:x},x.id))})()})]})]})]}),e.jsx($,{type:"2369730540"}),e.jsx(te,{})]}),K&&e.jsx(Me,{title:"Share game",description:"Link copied! Send the game link to anyone via email, social media, or more to share the fun and enjoy the entertainment together!",setState:J})]})}function Pe({title:n,description:c}){return e.jsxs("div",{className:"hero",children:[e.jsx("h1",{className:"hero-title",children:n}),e.jsx("p",{className:"hero-description",children:c})]})}function W({page:n}){H();const[c,h]=a.useState(""),[o,r]=a.useState([]),[i,y]=a.useState(localStorage.getItem("theme")||"orange"),l=localStorage.getItem("recents")?JSON.parse(localStorage.getItem("recents")):[];return a.useRef(),a.useRef(),a.useRef(),a.useEffect(()=>{document.title=`${n[0].toUpperCase()+n.substring(1)} | GmG`},[n]),a.useEffect(()=>{document.body.classList.remove("light","red","blue","green","orange"),(localStorage.getItem("mode")?JSON.parse(localStorage.getItem("mode")):!1)?document.body.classList.add("light"):(localStorage.setItem("theme",i),document.body.classList.add(i))},[i]),a.useEffect(()=>{let u=!0;return(async()=>{const t=await re(),I=Array.isArray(t==null?void 0:t.games)?t.games:[];if(u)switch(n){case"new":h("On each seasonal update we add tons of new games to GmG, and you can access the games added in the previous update here! Play and discover all the new awesome games directly from the New tab!"),r(I.filter(p=>p.new));break;case"trending":h("Here are the top 10 games on GmG right now, sorted by total plays! View and play the most popular games everyone's playing, all easily through the Trending tab! (This list updates every season)"),r(I.filter(p=>p.trending).sort((p,k)=>k.trending-p.trending));break;case"recent":h("With the Recent tab, you can quickly access the games you've recently played, making it easy to jump right back and continue playing them without browsing through every game to find them!"),r(l.map(p=>I.find(k=>k.id.toString()===p)).filter(Boolean));break;case"settings":h("Here, you can set a fully customized theme for a more personalized gaming experience");break}})(),()=>{u=!1}},[n,l]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"content",children:[e.jsx(Pe,{title:n[0].toUpperCase()+n.substring(1),description:c}),e.jsx($,{type:"3495912284"}),n!=="settings"&&e.jsxs("div",{className:"games-container",children:[n!=="trending"&&o.map(u=>e.jsx(L,{game:u},u.id)),n==="trending"&&e.jsx("div",{className:"trending-games",children:o.map((u,t)=>{var I;return e.jsxs("div",{className:"trending-game",children:[e.jsxs("div",{className:"trending-plays",children:[e.jsxs("span",{className:"rank",children:["🏆 #",t+1]}),e.jsxs("span",{className:"plays-count",children:[(I=u.trending)==null?void 0:I.toLocaleString()," plays"]})]}),e.jsx(L,{game:u})]},u.id)})}),o.length===0&&e.jsx(e.Fragment,{children:n==="recent"&&e.jsx(e.Fragment,{children:"You haven't played any games on GmG yet! Browse our collection of the best online games on the homepage or from the tabs above!"})})]}),n==="settings"&&e.jsx("div",{className:"settings",children:e.jsxs("div",{className:"setting",children:[e.jsx("h2",{className:"setting-name",children:"Themes"}),e.jsxs("select",{className:"setting-dropdown",value:i,onChange:u=>y(u.target.value),children:[e.jsx("option",{value:"orange",children:"Sun"}),e.jsx("option",{value:"blue",children:"Ocean"}),e.jsx("option",{value:"green",children:"Forest"}),e.jsx("option",{value:"red",children:"Mars"})]})]})}),e.jsx($,{type:"2369730540"})]}),e.jsx(te,{})]})]})}function ze(){const{pathname:n}=H();return a.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function Be(){return e.jsxs(ge,{children:[e.jsx(ze,{}),e.jsxs(fe,{children:[e.jsx(F,{path:"/",element:e.jsx(Te,{})}),e.jsx(F,{path:"/new",element:e.jsx(W,{page:"new"})}),e.jsx(F,{path:"/trending",element:e.jsx(W,{page:"trending"})}),e.jsx(F,{path:"/recent",element:e.jsx(W,{page:"recent"})}),e.jsx(F,{path:"/settings",element:e.jsx(W,{page:"settings"})}),e.jsx(F,{path:"/game/:id/:slug",element:e.jsx(ne,{})}),e.jsx(F,{path:"/game/:id",element:e.jsx(ne,{})})]})]})}const qe={apiKey:"AIzaSyC__9_RAHbGLchSKPVY044w3g87xPSkoGw",authDomain:"gmg-studio-38512.firebaseapp.com",projectId:"gmg-studio-38512",storageBucket:"gmg-studio-38512.firebasestorage.app",messagingSenderId:"365625944904",appId:"1:365625944904:web:be99cb2382c38813dee17d",measurementId:"G-H8E6JG24D0"},He=pe(qe);xe(He);je.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Re,{children:e.jsx(Be,{})})}));
