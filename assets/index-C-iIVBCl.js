import{initializeApp as le}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";import{getAnalytics as oe}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";import{j as e,m as ne,L as $,r as a,u as z,a as ce,b as de,Q as me,B as ue,R as he,c as D,i as fe,g as ge,d as pe}from"./vendor-BRtlvL11.js";import{l as X,a as re,c as ie,m as xe,e as je,y as ve,r as ye,u as be,d as Ne,b as we,s as Se,f as Ge,g as Ce,q as ke,h as Ie,i as $e}from"./assets-BME0Xyhg.js";(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))g(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&g(y)}).observe(document,{childList:!0,subtree:!0});function m(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function g(r){if(r.ep)return;r.ep=!0;const c=m(r);fetch(r.href,c)}})();const Ee={apiKey:"AIzaSyC__9_RAHbGLchSKPVY044w3g87xPSkoGw",authDomain:"gmg-studio-38512.firebaseapp.com",projectId:"gmg-studio-38512",storageBucket:"gmg-studio-38512.firebasestorage.app",messagingSenderId:"365625944904",appId:"1:365625944904:web:be99cb2382c38813dee17d",measurementId:"G-H8E6JG24D0"},Le=le(Ee);oe(Le);function Ae(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function E({game:n}){return e.jsx(ne.div,{children:e.jsxs($,{className:"game-card",id:n.id,to:`/game/${n.id}/${Ae(n.name)}`,style:{backgroundImage:`linear-gradient(
      rgba(40, 40, 40, 0.0),
      rgba(20, 20, 20, 0.3)
    ), url("${n.thumb_url}")`},children:[e.jsx("img",{src:`https://gmg-studio.com${n.thumb_url}`,alt:`Play ${n.name} â€“ Free ${n.genre||"Online"} on GmG Studio`,loading:"lazy",style:{position:"absolute",width:"1px",height:"1px",opacity:0,pointerEvents:"none"}}),e.jsx("span",{children:n.name})]})})}function ee(){const[n,f]=a.useState([]),[m,g]=a.useState([]),[r,c]=a.useState(""),[y,i]=a.useState(!1),[s,b]=a.useState(()=>{try{return JSON.parse(localStorage.getItem("mode"))||!1}catch{return!1}}),w=a.useRef(),k=a.useRef();a.useEffect(()=>{let h=!0;return(async()=>{const C=await X(),L=Array.isArray(C==null?void 0:C.games)?C.games:[];h&&f(L)})(),()=>{h=!1}},[]);function j(h){const C=h.target.value;c(C)}return a.useEffect(()=>{if(r.trim().length>0){const h=r.toLowerCase();g(n.filter(C=>(C.name??"").toLowerCase().includes(h)).slice(0,5))}else g([])},[r,n]),a.useEffect(()=>{s?document.body.classList.add("light"):document.body.classList.remove("light"),localStorage.setItem("mode",JSON.stringify(s))},[s]),a.useEffect(()=>{function h(C){k.current&&!k.current.contains(C.target)&&i(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),e.jsxs("nav",{className:"nav",children:[e.jsxs($,{to:"/",className:"nav-logo",onClick:()=>c(""),children:[e.jsx("img",{src:re,alt:"Logo"}),e.jsx("span",{className:"nav-logo-text",children:"GmG"})]}),e.jsxs("div",{className:"nav-search-container",ref:k,children:[e.jsxs("div",{className:"nav-search-bar",children:[e.jsx("input",{type:"text",className:"nav-search",placeholder:`Search ${n.length||500}+ free online games`,value:r,onChange:j,onFocus:()=>i(!0),ref:w,"aria-label":"Search games"}),r.length>0&&e.jsx("img",{src:ie,title:"Clear search",className:"nav-search-img",onClick:()=>{var h;c(""),(h=w.current)==null||h.focus()},alt:"Clear search"})]}),m.length>0&&y&&e.jsx("div",{className:"nav-search-results",children:m.map(h=>e.jsx(E,{game:h,onClick:()=>{c(""),i(!1)}},h.id))})]}),e.jsx($,{to:"/new",className:"nav-link",children:"New"}),e.jsx($,{to:"/trending",className:"nav-link",children:"Trending"}),e.jsx($,{to:"/recent",className:"nav-link",children:"Recent"}),e.jsx($,{to:"/settings",className:"nav-link",children:"Settings"}),e.jsx(ne.img,{whileHover:{scale:1.2,rotate:360},whileTap:{scale:1.1,rotate:320},transition:{duration:.7,type:"spring"},src:xe,title:"Toggle light mode",className:"nav-img",onClick:()=>b(h=>!h),alt:"Toggle light mode"})]})}function te(){return e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-column",children:[e.jsxs($,{to:"/",className:"footer-logo",children:[e.jsx("img",{src:re,alt:"GMG Game"})," GmG"]}),e.jsxs("div",{className:"footer-copy",children:["Â© ",new Date().getFullYear()," ",e.jsx("a",{href:"https://gmg-studio.com",target:"_blank",children:"GmG Studio"})]}),e.jsx("div",{className:"footer-copy",children:"All rights reserved"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Browse Games"}),e.jsx($,{to:"/",className:"footer-link",children:"Home"}),e.jsx($,{to:"/new",className:"footer-link",children:"New"}),e.jsx($,{to:"/trending",className:"footer-link",children:"Trending"}),e.jsx($,{to:"/recent",className:"footer-link",children:"Recent"}),e.jsx($,{to:"/settings",className:"footer-link",children:"Settings"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Policy"}),e.jsx("a",{href:"/policy.html",className:"footer-link",target:"_blank",children:"Privacy Policy"}),e.jsx("a",{href:"/terms.html",className:"footer-link",target:"_blank",children:"Terms of Use"}),e.jsx("a",{href:"/cookies.html",className:"footer-link",target:"_blank",children:"Cookie Policy"})]}),e.jsx("div",{className:"footer-column"}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Social"}),e.jsxs("div",{className:"footer-social",children:[e.jsx("a",{href:"mailto:gmg.funygame@gmail.com@gmail.com",target:"_blank",className:"footer-icon",title:"Email us",children:e.jsx("img",{src:je,alt:"Contact via email"})}),e.jsx("a",{href:"https://www.youtube.com/@gmg5430",target:"_blank",className:"footer-icon",title:"YouTube",children:e.jsx("img",{src:ve,alt:"Visit our YouTube channel"})})]})]})]})}function se({label:n,options:f}){const m=a.useRef(),[g,r]=a.useState(!1),[c,y]=a.useState(n);return a.useEffect(()=>{const i=s=>{m.current&&!m.current.contains(s.target)&&r(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]),e.jsxs("div",{className:"filter",ref:m,children:[e.jsx("div",{className:"label",onClick:()=>r(!g),children:c}),g&&e.jsx("ul",{className:"filter-list",children:f.map((i,s)=>e.jsx("li",{className:"filter-item",onClick:()=>{i.onClick(),y(i.complete),r(!1)},children:i.label},s))})]})}function U({type:n,delay:f=50}){const m=a.useRef(null),g=z();return a.useEffect(()=>{if(!m.current)return;m.current.innerHTML="";const r=setTimeout(()=>{try{const c=document.createElement("ins");c.className="adsbygoogle",c.style.display="block",c.setAttribute("data-ad-client","ca-pub-7901739962631907"),c.setAttribute("data-ad-slot",n),c.setAttribute("data-ad-format","auto"),c.setAttribute("data-full-width-responsive","true"),m.current.appendChild(c),(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(c){console.error("AdSense error:",c)}},f);return()=>clearTimeout(r)},[g,n,f]),e.jsx("div",{className:"ad-container",ref:m})}function De({currentPage:n,totalPages:f,goToPage:m}){const r=[],c=[];let y;for(let i=1;i<=f;i++)(i===1||i===f||i>=n-1&&i<=n+1)&&r.push(i);for(let i of r)y&&(i-y===2?c.push(y+1):i-y!==1&&c.push("...")),c.push(i),y=i;return f<=7?e.jsxs("div",{className:"pagination",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>m(n-1),disabled:n===1,"aria-label":"Previous Page",children:"Previous"}),[...Array(f)].map((i,s)=>{const b=s+1;return e.jsx("button",{onClick:()=>m(b),className:b===n?"active":"","aria-current":b===n?"page":void 0,"aria-label":`Page ${b}`,children:b},b)}),e.jsx("button",{onClick:()=>m(n+1),disabled:n===f,"aria-label":"Next Page",children:"Next"})]}):e.jsxs("div",{className:"pagination",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>m(n-1),disabled:n===1,"aria-label":"Previous Page",children:"Previous"}),c.map((i,s)=>i==="..."?e.jsx("span",{className:"dots","aria-hidden":"true",children:"..."},`dots-${s}`):e.jsx("button",{onClick:()=>m(i),className:i===n?"active":"","aria-current":i===n?"page":void 0,"aria-label":`Page ${i}`,children:i},i)),e.jsx("button",{onClick:()=>m(n+1),disabled:n===f,"aria-label":"Next Page",children:"Next"})]})}function _e(){const[n,f]=a.useState(""),[m,g]=a.useState("r"),[r,c]=a.useState([]),[y,i]=a.useState(()=>{try{const l=localStorage.getItem("favorites");return l?JSON.parse(l):[]}catch{return[]}}),[s,b]=a.useState(null),[w,k]=a.useState(localStorage.getItem("modal")?JSON.parse(localStorage.getItem("modal")):!0),[j,h]=a.useState("all"),C=a.useRef(),L=z(),O=28,[B,G]=a.useState(1);a.useEffect(()=>{let l=!0;return(async()=>{const u=await X(),t=[...Array.isArray(u==null?void 0:u.games)?u.games:[]].sort((o,S)=>((o==null?void 0:o.name)??"").localeCompare((S==null?void 0:S.name)??""));l&&c(t)})(),()=>{l=!1}},[]),a.useEffect(()=>{try{localStorage.setItem("favorites",JSON.stringify(y))}catch{}},[y]);const J=a.useMemo(()=>r.filter(l=>{var u;return y.includes((u=l.id)==null?void 0:u.toString())}),[r,y]);function H(l){f(l.target.value),G(1)}function _(){if(r.length===0)return;let l;do{const u=Math.floor(Math.random()*r.length);l=r[u]}while(l===s&&r.length>1);b(l)}function F(){confirm("Are you sure you want to remove all your favorited games? This action cannot be undone.")&&i([])}a.useEffect(()=>{localStorage.setItem("modal",JSON.stringify(w))},[w]);const R=l=>{const u=new Date(l);return isNaN(u)?new Date(0):u},N=a.useMemo(()=>({all:r.length,featured:r.filter(l=>l.featured).length,action:r.filter(l=>l.category==="action").length,strategy:r.filter(l=>l.category==="strategy").length,casual:r.filter(l=>l.category==="casual").length,driving:r.filter(l=>l.category==="driving").length,downloadable:r.filter(l=>l.download).length}),[r]),M=a.useMemo(()=>{const l=n.trim().toLowerCase();let u=r.filter(x=>j==="all"?!0:j==="featured"?x.featured:j==="downloadable"?x.download:x.category===j);switch(l&&(u=u.filter(x=>{var t;return(t=x.name)==null?void 0:t.toLowerCase().includes(l)})),m){case"a":u.sort((x,t)=>((x==null?void 0:x.name)??"").localeCompare((t==null?void 0:t.name)??""));break;case"a_rev":u.sort((x,t)=>((t==null?void 0:t.name)??"").localeCompare((x==null?void 0:x.name)??""));break;case"c":u.sort((x,t)=>((x==null?void 0:x.category)??"").localeCompare((t==null?void 0:t.category)??""));break;case"c_rev":u.sort((x,t)=>((t==null?void 0:t.category)??"").localeCompare((x==null?void 0:x.category)??""));break;case"r":u.sort((x,t)=>R(t.releaseDate)-R(x.releaseDate));break;case"r_rev":u.sort((x,t)=>R(x.releaseDate)-R(t.releaseDate));break}return u},[r,n,m,j]),q=B*O,Q=q-O,V=M.slice(Q,q),T=Math.ceil(M.length/O);function Z(l){l<1||l>T||G(l)}return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"hero",children:[e.jsx("h1",{className:"hero-title",children:"Welcome to GmG H5 !"}),e.jsx("p",{className:"hero-description",children:"Fun, redefined: hundreds of free online games. Endless fun. Infinite possibilities."}),e.jsxs("div",{className:"hero-search",children:[e.jsx("input",{className:"hero-search-bar",ref:C,placeholder:"Search 500+ free online games",onChange:H,value:n,"aria-label":"Search games"}),n.length!==0&&e.jsx("button",{className:"hero-search-img",onClick:()=>{f(""),C.current.focus(),G(1)},title:"Clear search","aria-label":"Clear search",children:e.jsx("img",{src:ie,alt:"Clear search"})}),e.jsx("div",{className:"hero-search-img",children:e.jsx("img",{src:ye,title:"Random game",alt:"Random game",onClick:_})})]}),e.jsxs("div",{className:"hero-filters",children:[e.jsx(se,{label:`Sort By: ${["a","a_rev"].includes(m)?"Name":["c","c_rev"].includes(m)?"Category":"Release"}`,options:[{complete:"Sort By: Name",label:"Name",onClick:()=>{g("a"),G(1)}},{complete:"Sort By: Category",label:"Category",onClick:()=>{g("c"),G(1)}},{complete:"Sort By: Release",label:"Release",onClick:()=>{g("r"),G(1)}}]}),e.jsx(se,{label:j==="all"?`Filter All (${N.all})`:j==="featured"?`Featured Games (${N.featured})`:j==="action"?`Action (${N.action})`:j==="strategy"?`Strategy (${N.strategy})`:j==="casual"?`Casual (${N.casual})`:j==="driving"?`Driving (${N.driving})`:j==="downloadable"?`Downloadable (${N.downloadable})`:"Filter",options:[{complete:`Filter All (${N.all})`,label:"All",onClick:()=>{h("all"),G(1)}},{complete:`Featured Games (${N.featured})`,label:`Featured (${N.featured})`,onClick:()=>{h("featured"),G(1)}},{complete:`Action & Adventure (${N.action})`,label:`Action (${N.action})`,onClick:()=>{h("action"),G(1)}},{complete:`Strategy & Puzzle (${N.strategy})`,label:`Strategy (${N.strategy})`,onClick:()=>{h("strategy"),G(1)}},{complete:`Casual & Idle (${N.casual})`,label:`Casual (${N.casual})`,onClick:()=>{h("casual"),G(1)}},{complete:`Driving & Sports (${N.driving})`,label:`Driving (${N.driving})`,onClick:()=>{h("driving"),G(1)}},{complete:`Downloadable Games (${N.downloadable})`,label:`Downloadable (${N.downloadable})`,onClick:()=>{h("downloadable"),G(1)}}]}),e.jsx("button",{className:"filter direction",onClick:l=>{l.currentTarget.classList.toggle("direction-flip"),G(1),g(u=>u==="a"?"a_rev":u==="a_rev"?"a":u==="c"?"c_rev":u==="c_rev"?"c":u==="r"?"r_rev":u==="r_rev"?"r":"a")},"aria-label":"Toggle sort direction",children:e.jsx("img",{src:be,alt:"Toggle direction"})})]})]}),s&&e.jsx("div",{className:"games-container games-centered",children:e.jsx(E,{game:s})}),J.length>0&&e.jsxs("div",{className:"favorites-container",children:[e.jsx("h2",{children:"Favorites"}),e.jsx("div",{className:"favorites-delete",onClick:F,role:"button",tabIndex:0,"aria-label":"Remove all favorites",onKeyDown:l=>{l.key==="Enter"&&F()},children:e.jsx("img",{src:Ne,alt:"Delete favorites",className:"hero-search-img"})}),e.jsx("div",{className:"favorites-list",children:J.map(l=>e.jsx(E,{game:l},l.id))})]}),e.jsx(U,{type:"3495912284"},`3495912284---${L.pathname}`),e.jsxs("div",{className:"games-container",children:[V.length===0&&e.jsx("div",{children:"No games found."}),V.map(l=>e.jsx(E,{game:l},l.id))]}),T>1&&e.jsx(De,{currentPage:B,totalPages:T,goToPage:Z})]}),e.jsx(te,{})]})]})}function Fe({title:n,description:f,setState:m}){function g(){m(!1)}return e.jsx("div",{className:"popup",children:e.jsxs("div",{className:"popup-block",children:[e.jsx("h2",{className:"popup-title",children:n}),e.jsx("p",{className:"popup-description",children:f}),e.jsx("button",{className:"popup-close",onClick:g,children:"Ok"})]})})}function ae(){const f=z(),m=ce(),g=a.useRef(null),r=a.useRef(null),c=a.useRef(!1),{id:y}=de(),i=String(y),[s,b]=a.useState(null),[w,k]=a.useState([]),[j,h]=a.useState(()=>{try{const t=localStorage.getItem("favorites"),o=t?JSON.parse(t):[];return Array.isArray(o)?o.map(String):[]}catch{return[]}}),C=j.includes(i),[L,O]=a.useState(()=>{try{const t=localStorage.getItem("recents"),o=t?JSON.parse(t):[];return Array.isArray(o)?o.map(String):[]}catch{return[]}}),[B,G]=a.useState(!1),[J,H]=a.useState(!1),[_,F]=a.useState(!1),[R,N]=a.useState(!1),[M,q]=a.useState({left:0,top:0}),Q=a.useRef(null);function V(t){switch(t){case"strategy":return"Strategy and Puzzle";case"action":return"Action and Adventure";case"casual":return"Casual and Idle";case"driving":return"Driving and Sports";default:return"Other"}}function T(){h(t=>t.includes(i)?t.filter(o=>o!==i):[i,...t])}function Z(){var o;const t=!!document.fullscreenElement;t?document.exitFullscreen():(o=g.current)!=null&&o.requestFullscreen&&g.current.requestFullscreen(),G(!t)}a.useEffect(()=>{const t=localStorage.getItem("theme");t&&document.body.classList.add(t)},[]),a.useEffect(()=>{const t=()=>{document.fullscreenElement||G(!1)};return window.addEventListener("fullscreenchange",t),()=>window.removeEventListener("fullscreenchange",t)},[]),a.useEffect(()=>{O(t=>t.includes(i)?t:[i,...t.slice(0,19)])},[i]),a.useEffect(()=>{try{localStorage.setItem("recents",JSON.stringify(L))}catch{}},[L]),a.useEffect(()=>{try{localStorage.setItem("favorites",JSON.stringify(j))}catch{}},[j]),a.useEffect(()=>{let t=!0;return(async()=>{try{const o=await X(),S=Array.isArray(o==null?void 0:o.games)?o.games:[];if(!t)return;if(k(S),!S.find(v=>String(v==null?void 0:v.id)===i)){m("/");return}const p=await we(i);if(!t)return;b(p)}catch(o){console.error("âŒ Lá»—i khi load game detail:",o),m("/")}})(),()=>{t=!1}},[i,m,f.pathname]),a.useEffect(()=>{if(!s||!g.current)return;const t=()=>{c.current=!0},o=()=>{c.current=!1},S=setInterval(()=>{var p;c.current&&document.activeElement!==r.current&&((p=r.current)==null||p.focus())},1e3),I=g.current;return I.addEventListener("mouseenter",t),I.addEventListener("mouseleave",o),()=>{I.removeEventListener("mouseenter",t),I.removeEventListener("mouseleave",o),clearInterval(S)}},[s==null?void 0:s.id]),a.useEffect(()=>{if(!s)return;const t=[d=>`${d.name} ðŸŽ® Free Online Game | GmG`,d=>`Play ${d.name} â€“ ${d.genre||"Fun"} Game | GmG`,d=>`${d.name} | Browser ${d.genre||"Game"} | GmG`,d=>`${d.name} ðŸ•¹ï¸ Free to Play | GmG`,d=>`Enjoy ${d.name} â€“ No Download Needed | GmG`,d=>`Play ${d.name} Online | Free ${d.category||"Game"} | GmG`,d=>`${d.name} | Free ${d.genre||"Casual"} Game | GmG`,d=>`Play ${d.name} Now â€“ Online ${d.genre||"Game"} | GmG`,d=>`${d.name} ðŸ’¡ Fun ${d.genre||"Puzzle"} Game | GmG`,d=>`${d.name} ðŸš€ Free to Play Online | GmG`,d=>`${d.name} 2025 â€“ Free ${d.genre||"Online"} Game | GmG`],S=(d=>{var K;if(!(d!=null&&d.name))return"Play Free Games Online | GmG";const P=Number(d.id),W=Number.isFinite(P)?Math.abs(P)%t.length:Math.abs(((K=d.name)==null?void 0:K.length)||0)%t.length;return t[W](d)})(s);document.title=S;const I=s.about_short&&!s.about_short.includes("Oops")&&s.about_short||s.about&&!s.about.includes("Oops")&&s.about||"Play exciting online games on our platform.",p=I.length>180?`${I.slice(0,177)}...`:I;function v(d,P,W=!1){const K=W?`meta[property="${d}"]`:`meta[name="${d}"]`;let A=document.querySelector(K);A?A.setAttribute("content",P):(A=document.createElement("meta"),W?A.setAttribute("property",d):A.setAttribute("name",d),A.setAttribute("content",P),document.head.appendChild(A))}v("title",S),v("description",p),v("og:title",S,!0),v("og:description",p,!0),v("og:type","website",!0),s.thumb_url&&v("og:image",s.thumb_url,!0),v("twitter:title",S),v("twitter:description",p),s.thumb_url&&v("twitter:image",s.thumb_url),v("twitter:card","summary_large_image"),v("application-name",`${S} - Lite Page`),v("apple-mobile-web-app-title",`${S} - Lite Page`)},[s]),a.useEffect(()=>{if(!s)return;const t={"@context":"https://schema.org","@type":"VideoGame",name:s.name,url:window.location.href,image:s.thumb_url||void 0,description:s.about_short||"Play exciting online games on our platform.",publisher:{"@type":"Organization",name:"GmG Studio"},genre:s.genre||"Other",gamePlatform:["Web","PC","Mobile"]},o=document.createElement("script");return o.type="application/ld+json",o.text=JSON.stringify(t),document.head.appendChild(o),()=>{document.head.removeChild(o)}},[s]);const l=()=>{const t=Q.current;if(!t){F(d=>!d);return}const o=t.getBoundingClientRect(),S=320,I=300;let p=o.right-S;p<8&&(p=8);let v=o.top-I-12;v<8&&(v=8),q({left:p,top:v}),N(!1),F(!0)},u=()=>{N(!0),setTimeout(()=>{F(!1),N(!1)},220)};a.useEffect(()=>{if(!_)return;const t=()=>u();return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[_]);const x=!!(s!=null&&s.id);return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),x&&e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"game-page",children:[e.jsxs("div",{className:"game-content",children:[e.jsxs("div",{className:"game-frame",ref:g,children:[e.jsx("iframe",{src:s.link,ref:r,tabIndex:-1,title:s.name}),e.jsxs("div",{className:"toolbar",children:[e.jsxs("div",{className:"game-name",children:[s.thumb_url&&e.jsx("img",{src:s.thumb_url,alt:s.name||"Game"}),e.jsx("h2",{children:s.name})]}),e.jsxs("div",{className:"toolbar-icons",children:[e.jsx("img",{className:"toolbar-icon",title:"Favorite game",src:C?Se:Ge,onClick:T,alt:"Favorite"}),e.jsx("img",{className:"toolbar-icon",title:"Share game",src:Ce,onClick:()=>{var t;(t=navigator.clipboard)==null||t.writeText(window.location.href),H(!0)},alt:"Share"}),e.jsx("img",{className:"toolbar-icon",ref:Q,src:ke,alt:"QR",title:"Show QR to continue on phone",onClick:()=>_?u():l()}),e.jsx("img",{className:"toolbar-icon",title:"Toggle fullscreen",src:B?Ie:$e,onClick:Z,alt:"Fullscreen"})]}),_&&e.jsx("div",{className:`qr-flyout ${R?"leave":"enter"}`,style:{position:"fixed",left:`${M.left}px`,top:`${M.top}px`,width:320,zIndex:9999,pointerEvents:"auto"},children:e.jsxs("div",{style:{background:"#1e1f29",color:"#fff",borderRadius:16,padding:16,boxShadow:"0 12px 28px rgba(0,0,0,0.35)",position:"relative",overflow:"hidden"},children:[e.jsx("button",{onClick:u,"aria-label":"Close",style:{position:"absolute",top:8,right:8,background:"transparent",border:"none",color:"#bdbdbd",fontSize:18,cursor:"pointer",lineHeight:1},children:"âœ•"}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("div",{style:{background:"#fff",borderRadius:12,padding:10,flex:"0 0 auto"},children:e.jsx(me,{value:window.location.href,size:120})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("h3",{style:{margin:"2px 0 6px",fontSize:16,fontWeight:700,color:"#c9a4ff"},children:"Continue on your phone or tablet!"}),e.jsxs("p",{style:{margin:0,fontSize:13.5,lineHeight:1.35,color:"#cfcfcf"},children:["Play ",e.jsx("b",{children:(s==null?void 0:s.name)||"this game"})," on your phone or tablet by scanning this QR code! It's available on iPads, iPhones, and any Android devices."]})]})]})]})})]})]}),e.jsx(U,{type:"3495912284"},`3495912284-${s.id}-${f.pathname}`),e.jsxs("div",{className:"game-info",children:[(s==null?void 0:s.about)&&!s.about.includes("Oops")&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"About"}),e.jsx("p",{children:s.about})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsxs("h2",{children:["More ",s.genre]}),e.jsx("div",{className:"more-games",children:e.jsx("div",{className:"more-games-list",children:w.filter(t=>t.id!==s.id&&t.genre===s.genre).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})})]}),Array.isArray(s==null?void 0:s.controls)&&s.controls.length>0&&!s.controls.includes("Still working on this one O_O")&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Controls"}),e.jsx("ul",{children:s.controls.map((t,o)=>e.jsx("li",{children:t},o))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Game Information"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Developer: ",s.dev]}),e.jsxs("li",{children:["Category: ",V(s.category)]}),e.jsxs("li",{children:["Genre: ",s.genre]}),e.jsxs("li",{children:["Players: ",s.popularity]}),e.jsxs("li",{children:["Release Date: ",s.releaseDate]}),e.jsxs("li",{children:["Build: ",s.build]})]})]}),Array.isArray(s==null?void 0:s.faqs)&&s.faqs.length>0&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"FAQs"}),e.jsx("ul",{children:s.faqs.map((t,o)=>e.jsxs("li",{children:[e.jsx("strong",{children:t.name}),e.jsx("br",{}),t.text]},o))})]})]})]}),e.jsxs("div",{className:"right",children:[e.jsx(U,{type:"7458405690",delay:500},`7458405690-${s.id}-${f.pathname}`),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Trending Games"}),e.jsx("div",{className:"more-games-list",children:w.slice().sort((t,o)=>(o.popularity??0)-(t.popularity??0)).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"New Releases"}),e.jsx("div",{className:"more-games-list",children:w.slice().sort((t,o)=>new Date(o.releaseDate)-new Date(t.releaseDate)).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Recently Played"}),e.jsx("div",{className:"more-games-list",children:L.map(t=>w.find(o=>o.id.toString()===t)).filter(Boolean).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Discover More"}),e.jsx("div",{className:"more-games-list",children:(()=>{const t=w.slice().sort((p,v)=>(v.popularity??0)-(p.popularity??0)).slice(0,8),o=w.slice().sort((p,v)=>new Date(v.releaseDate)-new Date(p.releaseDate)).slice(0,8),S=JSON.parse(localStorage.getItem("playedGames")||"[]").map(p=>w.find(v=>v.id===p)).filter(Boolean).slice(0,8),I=new Set([s.id,...t.map(p=>p.id),...o.map(p=>p.id),...S.map(p=>p.id)]);return w.filter(p=>!I.has(p.id)).sort(()=>Math.random()-.5).slice(0,8).map(p=>e.jsx(E,{game:p},p.id))})()})]})]})]}),e.jsx(te,{})]}),J&&e.jsx(Fe,{title:"Share game",description:"Link copied! Send the game link to anyone via email, social media, or more to share the fun and enjoy the entertainment together!",setState:H})]})}function Re({title:n,description:f}){return e.jsxs("div",{className:"hero",children:[e.jsx("h1",{className:"hero-title",children:n}),e.jsx("p",{className:"hero-description",children:f})]})}function Y({page:n}){const f=z(),[m,g]=a.useState(""),[r,c]=a.useState([]),[y,i]=a.useState(localStorage.getItem("theme")||"orange"),s=localStorage.getItem("recents")?JSON.parse(localStorage.getItem("recents")):[];return a.useRef(),a.useRef(),a.useRef(),a.useEffect(()=>{document.title=`${n[0].toUpperCase()+n.substring(1)} | GmG`},[n]),a.useEffect(()=>{document.body.classList.remove("light","red","blue","green","orange"),(localStorage.getItem("mode")?JSON.parse(localStorage.getItem("mode")):!1)?document.body.classList.add("light"):(localStorage.setItem("theme",y),document.body.classList.add(y))},[y]),a.useEffect(()=>{let b=!0;(async()=>{const w=await X(),k=Array.isArray(w==null?void 0:w.games)?w.games:[];if(b)switch(n){case"new":g("On each seasonal update we add tons of new games to GmG, and you can access the games added in the previous update here! Play and discover all the new awesome games directly from the New tab!"),c(k.filter(j=>j.new));break;case"trending":g("Here are the top 10 games on GmG right now, sorted by total plays! View and play the most popular games everyone's playing, all easily through the Trending tab! (This list updates every season)"),c(k.filter(j=>j.trending).sort((j,h)=>h.trending-j.trending));break;case"recent":g("With the Recent tab, you can quickly access the games you've recently played, making it easy to jump right back and continue playing them without browsing through every game to find them!"),c(s.map(j=>k.find(h=>h.id.toString()===j)).filter(Boolean));break;case"settings":g("Here, you can set a fully customized theme for a more personalized gaming experience");break}})();try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(w){console.error("Ad failed to load",w)}return()=>{b=!1}},[n,s]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"content",children:[e.jsx(Re,{title:n[0].toUpperCase()+n.substring(1),description:m}),e.jsx(U,{type:"3495912284"},`3495912284-${n}-${f.pathname}`),n!=="settings"&&e.jsxs("div",{className:"games-container",children:[n!=="trending"&&r.map(b=>e.jsx(E,{game:b},b.id)),n==="trending"&&e.jsx("div",{className:"trending-games",children:r.map((b,w)=>{var k;return e.jsxs("div",{className:"trending-game",children:[e.jsxs("div",{className:"trending-plays",children:[e.jsxs("span",{className:"rank",children:["ðŸ† #",w+1]}),e.jsxs("span",{className:"plays-count",children:[(k=b.trending)==null?void 0:k.toLocaleString()," plays"]})]}),e.jsx(E,{game:b})]},b.id)})}),r.length===0&&e.jsx(e.Fragment,{children:n==="recent"&&e.jsx(e.Fragment,{children:"You haven't played any games on GmG yet! Browse our collection of the best online games on the homepage or from the tabs above!"})})]}),n==="settings"&&e.jsx("div",{className:"settings",children:e.jsxs("div",{className:"setting",children:[e.jsx("h2",{className:"setting-name",children:"Themes"}),e.jsxs("select",{className:"setting-dropdown",value:y,onChange:b=>i(b.target.value),children:[e.jsx("option",{value:"orange",children:"Sun"}),e.jsx("option",{value:"blue",children:"Ocean"}),e.jsx("option",{value:"green",children:"Forest"}),e.jsx("option",{value:"red",children:"Mars"})]})]})})]}),e.jsx(te,{})]})]})}function Oe(){const{pathname:n}=z();return a.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function Me(){return e.jsxs(ue,{children:[e.jsx(Oe,{}),e.jsxs(he,{children:[e.jsx(D,{path:"/",element:e.jsx(_e,{})}),e.jsx(D,{path:"/new",element:e.jsx(Y,{page:"new"})}),e.jsx(D,{path:"/trending",element:e.jsx(Y,{page:"trending"})}),e.jsx(D,{path:"/recent",element:e.jsx(Y,{page:"recent"})}),e.jsx(D,{path:"/settings",element:e.jsx(Y,{page:"settings"})}),e.jsx(D,{path:"/game/:id/:slug",element:e.jsx(ae,{})}),e.jsx(D,{path:"/game/:id",element:e.jsx(ae,{})})]})]})}const Te={apiKey:"AIzaSyC__9_RAHbGLchSKPVY044w3g87xPSkoGw",authDomain:"gmg-studio-38512.firebaseapp.com",projectId:"gmg-studio-38512",storageBucket:"gmg-studio-38512.firebasestorage.app",messagingSenderId:"365625944904",appId:"1:365625944904:web:be99cb2382c38813dee17d",measurementId:"G-H8E6JG24D0"},Pe=fe(Te);ge(Pe);pe.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Me,{})}));
