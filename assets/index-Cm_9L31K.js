import{initializeApp as ce}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";import{getAnalytics as de}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";import{j as e,m as X,L as k,r as n,u as B,a as me,b as ue,Q as he,B as ge,R as fe,c as R,i as pe,g as xe,d as je}from"./vendor-DFYzyaG4.js";import{l as re,a as le,c as ie,m as se,e as ve,y as ye,r as be,u as Ne,d as we,b as Se,s as Ce,f as ke,g as Ge,q as Ie,h as $e,i as Ee}from"./assets-BME0Xyhg.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function h(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=h(r);fetch(r.href,o)}})();const Le={apiKey:"AIzaSyC__9_RAHbGLchSKPVY044w3g87xPSkoGw",authDomain:"gmg-studio-38512.firebaseapp.com",projectId:"gmg-studio-38512",storageBucket:"gmg-studio-38512.firebasestorage.app",messagingSenderId:"365625944904",appId:"1:365625944904:web:be99cb2382c38813dee17d",measurementId:"G-H8E6JG24D0"},De=ce(Le);de(De);function Ae(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function E({game:a}){return e.jsx(X.div,{children:e.jsxs(k,{className:"game-card",id:a.id,to:`/game/${a.id}/${Ae(a.name)}`,style:{backgroundImage:`linear-gradient(
      rgba(40, 40, 40, 0.0),
      rgba(20, 20, 20, 0.3)
    ), url("${a.thumb_url}")`},children:[e.jsx("img",{src:`https://gmg-studio.com${a.thumb_url}`,alt:`Play ${a.name} â€“ Free ${a.genre||"Online"} on GmG Studio`,loading:"lazy",style:{position:"absolute",width:"1px",height:"1px",opacity:0,pointerEvents:"none"}}),e.jsx("span",{children:a.name})]})})}const oe=n.createContext([]),Re=({children:a})=>{const[i,h]=n.useState([]);return n.useEffect(()=>{(async()=>{try{const c=await re(),o=[...Array.isArray(c==null?void 0:c.games)?c.games:[]].sort((f,l)=>((f==null?void 0:f.name)??"").localeCompare((l==null?void 0:l.name)??""));h(o),console.log("coing abc",o.length)}catch(c){console.error("Failed to load games:",c)}})()},[]),e.jsx(oe.Provider,{value:i,children:a})},Z=()=>n.useContext(oe);function ee(){const a=Z(),[i,h]=n.useState([]),[c,r]=n.useState(""),[o,f]=n.useState(!1),[l,g]=n.useState(!1),[s,G]=n.useState(()=>{try{return JSON.parse(localStorage.getItem("mode"))||!1}catch{return!1}}),v=n.useRef(null),w=n.useRef(null);function L(y){g(!1),r(y.target.value)}return n.useEffect(()=>{const y=setTimeout(()=>{if(c.trim()){const D=c.toLowerCase();h(a.filter(_=>(_.name??"").toLowerCase().includes(D)).slice(0,5))}else h([])},300);return()=>clearTimeout(y)},[c,a]),n.useEffect(()=>{s?document.body.classList.add("light"):document.body.classList.remove("light"),localStorage.setItem("mode",JSON.stringify(s))},[s]),n.useEffect(()=>{function y(D){w.current&&!w.current.contains(D.target)&&f(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),e.jsxs("nav",{className:"nav",children:[e.jsxs(k,{to:"/",className:"nav-logo",onClick:()=>r(""),children:[e.jsx("img",{src:le,alt:"Logo"}),e.jsx("span",{className:"nav-logo-text",children:"GmG"})]}),e.jsxs("div",{className:"nav-search-container",ref:w,children:[e.jsxs("div",{className:"nav-search-bar",children:[e.jsx("input",{type:"text",className:"nav-search",placeholder:`Search ${a.length||500}+ free online games`,value:c,onClick:()=>g(!1),onChange:L,onFocus:()=>f(!0),ref:v,"aria-label":"Search games"}),c.length>0&&e.jsx("img",{src:ie,title:"Clear search",className:"nav-search-img",onClick:()=>{var y;g(!1),r(""),(y=v.current)==null||y.focus()},alt:"Clear search"})]}),i.length>0&&o&&e.jsx("div",{className:"nav-search-results",children:i.map(y=>e.jsx(E,{game:y,onClick:()=>{r(""),f(!1)}},y.id))})]}),e.jsxs("div",{className:"nav-right",children:[e.jsxs("div",{className:"nav-links",children:[e.jsx(k,{to:"/new",className:"nav-link",children:"New"}),e.jsx(k,{to:"/trending",className:"nav-link",children:"Trending"}),e.jsx(k,{to:"/recent",className:"nav-link",children:"Recent"}),e.jsx(k,{to:"/settings",className:"nav-link",children:"Settings"})]}),e.jsx(X.img,{whileHover:{scale:1.2,rotate:360},whileTap:{scale:1.1,rotate:320},transition:{duration:.7,type:"spring"},src:se,title:"Toggle light mode",className:"nav-img toggle-desktop",onClick:()=>G(y=>!y),alt:"Toggle light mode"})]}),e.jsx("button",{className:"nav-menu-btn",onClick:()=>g(y=>!y),"aria-label":"Toggle menu","aria-expanded":l,"aria-controls":"mobile-menu",children:"â˜°"}),l&&e.jsxs("div",{id:"mobile-menu",className:"nav-menu",children:[e.jsx(k,{to:"/new",className:"nav-link",onClick:()=>g(!1),children:"New"}),e.jsx(k,{to:"/trending",className:"nav-link",onClick:()=>g(!1),children:"Trending"}),e.jsx(k,{to:"/recent",className:"nav-link",onClick:()=>g(!1),children:"Recent"}),e.jsx(k,{to:"/settings",className:"nav-link",onClick:()=>g(!1),children:"Settings"}),e.jsx(X.img,{whileHover:{scale:1.2,rotate:360},whileTap:{scale:1.1,rotate:320},transition:{duration:.7,type:"spring"},src:se,title:"Toggle light mode",className:"nav-img toggle-mobile",onClick:()=>{G(y=>!y)},alt:"Toggle light mode"})]})]})}function te(){return e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-column",children:[e.jsxs(k,{to:"/",className:"footer-logo",children:[e.jsx("img",{src:le,alt:"GMG Game"})," GmG"]}),e.jsxs("div",{className:"footer-copy",children:["Â© ",new Date().getFullYear()," ",e.jsx("a",{href:"https://gmg-studio.com",target:"_blank",children:"GmG Studio"})]}),e.jsx("div",{className:"footer-copy",children:"All rights reserved"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Browse Games"}),e.jsx(k,{to:"/",className:"footer-link",children:"Home"}),e.jsx(k,{to:"/new",className:"footer-link",children:"New"}),e.jsx(k,{to:"/trending",className:"footer-link",children:"Trending"}),e.jsx(k,{to:"/recent",className:"footer-link",children:"Recent"}),e.jsx(k,{to:"/settings",className:"footer-link",children:"Settings"})]}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Policy"}),e.jsx("a",{href:"/policy.html",className:"footer-link",target:"_blank",children:"Privacy Policy"}),e.jsx("a",{href:"/terms.html",className:"footer-link",target:"_blank",children:"Terms of Use"}),e.jsx("a",{href:"/cookies.html",className:"footer-link",target:"_blank",children:"Cookie Policy"})]}),e.jsx("div",{className:"footer-column"}),e.jsxs("div",{className:"footer-column",children:[e.jsx("h2",{className:"footer-title",children:"Social"}),e.jsxs("div",{className:"footer-social",children:[e.jsx("a",{href:"mailto:gmg.funygame@gmail.com@gmail.com",target:"_blank",className:"footer-icon",title:"Email us",children:e.jsx("img",{src:ve,alt:"Contact via email"})}),e.jsx("a",{href:"https://www.youtube.com/@gmg5430",target:"_blank",className:"footer-icon",title:"YouTube",children:e.jsx("img",{src:ye,alt:"Visit our YouTube channel"})})]})]})]})}function ae({label:a,options:i}){const h=n.useRef(),[c,r]=n.useState(!1),[o,f]=n.useState(a);return n.useEffect(()=>{const l=g=>{h.current&&!h.current.contains(g.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),e.jsxs("div",{className:"filter",ref:h,children:[e.jsx("div",{className:"label",onClick:()=>r(!c),children:o}),c&&e.jsx("ul",{className:"filter-list",children:i.map((l,g)=>e.jsx("li",{className:"filter-item",onClick:()=>{l.onClick(),f(l.complete),r(!1)},children:l.label},g))})]})}const _e="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7901739962631907";function Fe(){return new Promise((a,i)=>{if(window.adsbygoogle&&window.adsbygoogle.push)return a();const h=document.querySelector('script[src^="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]');if(h){h.addEventListener("load",()=>a()),h.addEventListener("error",r=>i(r));return}const c=document.createElement("script");c.async=!0,c.src=_e,c.crossOrigin="anonymous",c.addEventListener("load",()=>a()),c.addEventListener("error",r=>i(r)),document.head.appendChild(c)})}function $({type:a}){const i=n.useRef(null),h=B();return n.useEffect(()=>{if(window.adsbygoogle&&window.adsbygoogle.loaded)try{for(;i.current.firstChild;)i.current.removeChild(i.current.firstChild)}catch(o){console.error("Error clearing old ads:",o)}let c=!1;return(async()=>{try{if(await Fe(),c||!i.current)return;i.current.innerHTML="";const o=document.createElement("ins");o.className="adsbygoogle",o.style.display="block",o.setAttribute("data-ad-client","ca-pub-7901739962631907"),o.setAttribute("data-ad-slot",a),o.setAttribute("data-ad-format","auto"),o.setAttribute("data-full-width-responsive","true"),i.current.appendChild(o),(window.adsbygoogle=window.adsbygoogle||[]).push()}catch(o){console.error("Adsense mount error",o)}})(),()=>{c=!0}},[h.pathname]),e.jsx("div",{className:"ad-container",ref:i})}function Oe({currentPage:a,totalPages:i,goToPage:h}){const r=[],o=[];let f;for(let l=1;l<=i;l++)(l===1||l===i||l>=a-1&&l<=a+1)&&r.push(l);for(let l of r)f&&(l-f===2?o.push(f+1):l-f!==1&&o.push("...")),o.push(l),f=l;return i<=7?e.jsxs("div",{className:"pagination",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>h(a-1),disabled:a===1,"aria-label":"Previous Page",children:"Previous"}),[...Array(i)].map((l,g)=>{const s=g+1;return e.jsx("button",{onClick:()=>h(s),className:s===a?"active":"","aria-current":s===a?"page":void 0,"aria-label":`Page ${s}`,children:s},s)}),e.jsx("button",{onClick:()=>h(a+1),disabled:a===i,"aria-label":"Next Page",children:"Next"})]}):e.jsxs("div",{className:"pagination",role:"navigation","aria-label":"Pagination Navigation",children:[e.jsx("button",{onClick:()=>h(a-1),disabled:a===1,"aria-label":"Previous Page",children:"Previous"}),o.map((l,g)=>l==="..."?e.jsx("span",{className:"dots","aria-hidden":"true",children:"..."},`dots-${g}`):e.jsx("button",{onClick:()=>h(l),className:l===a?"active":"","aria-current":l===a?"page":void 0,"aria-label":`Page ${l}`,children:l},l)),e.jsx("button",{onClick:()=>h(a+1),disabled:a===i,"aria-label":"Next Page",children:"Next"})]})}function Te(){const[a,i]=n.useState(""),[h,c]=n.useState("r"),r=Z(),[o,f]=n.useState(()=>{try{const d=localStorage.getItem("favorites");return d?JSON.parse(d):[]}catch{return[]}}),[l,g]=n.useState(null),[s,G]=n.useState(localStorage.getItem("modal")?JSON.parse(localStorage.getItem("modal")):!0),[v,w]=n.useState("all"),L=n.useRef(),y=B(),D=30,[_,C]=n.useState(1);n.useEffect(()=>{try{localStorage.setItem("favorites",JSON.stringify(o))}catch{}},[o]);const q=n.useMemo(()=>r.filter(d=>{var p;return o.includes((p=d.id)==null?void 0:p.toString())}),[r,o]);function H(d){i(d.target.value),C(1)}function F(){if(r.length===0)return;let d;do{const p=Math.floor(Math.random()*r.length);d=r[p]}while(d===l&&r.length>1);g(d)}function O(){confirm("Are you sure you want to remove all your favorited games? This action cannot be undone.")&&f([])}n.useEffect(()=>{localStorage.setItem("modal",JSON.stringify(s))},[s]);const T=d=>{const p=new Date(d);return isNaN(p)?new Date(0):p},b=n.useMemo(()=>({all:r.length,featured:r.filter(d=>d.featured).length,action:r.filter(d=>d.category==="action").length,strategy:r.filter(d=>d.category==="strategy").length,casual:r.filter(d=>d.category==="casual").length,driving:r.filter(d=>d.category==="driving").length,downloadable:r.filter(d=>d.download).length}),[r]),M=n.useMemo(()=>{const d=a.trim().toLowerCase();let p=r.filter(x=>v==="all"?!0:v==="featured"?x.featured:v==="downloadable"?x.download:x.category===v);switch(d&&(p=p.filter(x=>{var t;return(t=x.name)==null?void 0:t.toLowerCase().includes(d)})),h){case"a":p.sort((x,t)=>((x==null?void 0:x.name)??"").localeCompare((t==null?void 0:t.name)??""));break;case"a_rev":p.sort((x,t)=>((t==null?void 0:t.name)??"").localeCompare((x==null?void 0:x.name)??""));break;case"c":p.sort((x,t)=>((x==null?void 0:x.category)??"").localeCompare((t==null?void 0:t.category)??""));break;case"c_rev":p.sort((x,t)=>((t==null?void 0:t.category)??"").localeCompare((x==null?void 0:x.category)??""));break;case"r":p.sort((x,t)=>T(t.releaseDate)-T(x.releaseDate));break;case"r_rev":p.sort((x,t)=>T(x.releaseDate)-T(t.releaseDate));break}return p},[r,a,h,v]),J=_*D,Q=J-D,V=M.slice(Q,J),P=Math.ceil(M.length/D);function U(d){d<1||d>P||C(d)}return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"hero",children:[e.jsx("h1",{className:"hero-title",children:"Welcome to GmG H5 !"}),e.jsx("p",{className:"hero-description",children:"Fun, redefined: hundreds of free online games. Endless fun. Infinite possibilities."}),e.jsxs("div",{className:"hero-search",children:[e.jsx("input",{className:"hero-search-bar",ref:L,placeholder:"Search 500+ free online games",onChange:H,value:a,"aria-label":"Search games"}),a.length!==0&&e.jsx("button",{className:"hero-search-img",onClick:()=>{i(""),L.current.focus(),C(1)},title:"Clear search","aria-label":"Clear search",children:e.jsx("img",{src:ie,alt:"Clear search"})}),e.jsx("div",{className:"hero-search-img",children:e.jsx("img",{src:be,title:"Random game",alt:"Random game",onClick:F})})]}),e.jsxs("div",{className:"hero-filters",children:[e.jsx(ae,{label:`Sort By: ${["a","a_rev"].includes(h)?"Name":["c","c_rev"].includes(h)?"Category":"Release"}`,options:[{complete:"Sort By: Name",label:"Name",onClick:()=>{c("a"),C(1)}},{complete:"Sort By: Category",label:"Category",onClick:()=>{c("c"),C(1)}},{complete:"Sort By: Release",label:"Release",onClick:()=>{c("r"),C(1)}}]}),e.jsx(ae,{label:v==="all"?`Filter All (${b.all})`:v==="featured"?`Featured Games (${b.featured})`:v==="action"?`Action (${b.action})`:v==="strategy"?`Strategy (${b.strategy})`:v==="casual"?`Casual (${b.casual})`:v==="driving"?`Driving (${b.driving})`:v==="downloadable"?`Downloadable (${b.downloadable})`:"Filter",options:[{complete:`Filter All (${b.all})`,label:"All",onClick:()=>{w("all"),C(1)}},{complete:`Featured Games (${b.featured})`,label:`Featured (${b.featured})`,onClick:()=>{w("featured"),C(1)}},{complete:`Action & Adventure (${b.action})`,label:`Action (${b.action})`,onClick:()=>{w("action"),C(1)}},{complete:`Strategy & Puzzle (${b.strategy})`,label:`Strategy (${b.strategy})`,onClick:()=>{w("strategy"),C(1)}},{complete:`Casual & Idle (${b.casual})`,label:`Casual (${b.casual})`,onClick:()=>{w("casual"),C(1)}},{complete:`Driving & Sports (${b.driving})`,label:`Driving (${b.driving})`,onClick:()=>{w("driving"),C(1)}},{complete:`Downloadable Games (${b.downloadable})`,label:`Downloadable (${b.downloadable})`,onClick:()=>{w("downloadable"),C(1)}}]}),e.jsx("button",{className:"filter direction",onClick:d=>{d.currentTarget.classList.toggle("direction-flip"),C(1),c(p=>p==="a"?"a_rev":p==="a_rev"?"a":p==="c"?"c_rev":p==="c_rev"?"c":p==="r"?"r_rev":p==="r_rev"?"r":"a")},"aria-label":"Toggle sort direction",children:e.jsx("img",{src:Ne,alt:"Toggle direction"})})]})]}),l&&e.jsx("div",{className:"games-container games-centered",children:e.jsx(E,{game:l})}),q.length>0&&e.jsxs("div",{className:"favorites-container",children:[e.jsx("h2",{children:"Favorites"}),e.jsx("div",{className:"favorites-delete",onClick:O,role:"button",tabIndex:0,"aria-label":"Remove all favorites",onKeyDown:d=>{d.key==="Enter"&&O()},children:e.jsx("img",{src:we,alt:"Delete favorites",className:"hero-search-img"})}),e.jsx("div",{className:"favorites-list",children:q.map(d=>e.jsx(E,{game:d},d.id))})]}),e.jsx($,{type:"3495912284"},`3495912284---${y.pathname}`),e.jsxs("div",{className:"games-container",children:[V.length===0&&e.jsx("div",{children:"No games found."}),V.map(d=>e.jsx(E,{game:d},d.id))]}),P>1&&e.jsx(Oe,{currentPage:_,totalPages:P,goToPage:U}),e.jsx($,{type:"2369730540",delay:200},`2369730540-${y.pathname}`)]}),e.jsx(te,{})]})]})}function Me({title:a,description:i,setState:h}){function c(){h(!1)}return e.jsx("div",{className:"popup",children:e.jsxs("div",{className:"popup-block",children:[e.jsx("h2",{className:"popup-title",children:a}),e.jsx("p",{className:"popup-description",children:i}),e.jsx("button",{className:"popup-close",onClick:c,children:"Ok"})]})})}function ne(){const i=B(),h=me(),c=n.useRef(null),r=n.useRef(null),o=n.useRef(!1),{id:f}=ue(),l=String(f),g=Z(),[s,G]=n.useState(null),[v,w]=n.useState(()=>{try{const t=localStorage.getItem("favorites"),u=t?JSON.parse(t):[];return Array.isArray(u)?u.map(String):[]}catch{return[]}}),L=v.includes(l),[y,D]=n.useState(()=>{try{const t=localStorage.getItem("recents"),u=t?JSON.parse(t):[];return Array.isArray(u)?u.map(String):[]}catch{return[]}}),[_,C]=n.useState(!1),[q,H]=n.useState(!1),[F,O]=n.useState(!1),[T,b]=n.useState(!1),[M,J]=n.useState({left:0,top:0}),Q=n.useRef(null);function V(t){switch(t){case"strategy":return"Strategy and Puzzle";case"action":return"Action and Adventure";case"casual":return"Casual and Idle";case"driving":return"Driving and Sports";default:return"Other"}}function P(){w(t=>t.includes(l)?t.filter(u=>u!==l):[l,...t])}function U(){var u;const t=!!document.fullscreenElement;t?document.exitFullscreen():(u=c.current)!=null&&u.requestFullscreen&&c.current.requestFullscreen(),C(!t)}n.useEffect(()=>{const t=localStorage.getItem("theme");t&&document.body.classList.add(t)},[]),n.useEffect(()=>{const t=()=>{document.fullscreenElement||C(!1)};return window.addEventListener("fullscreenchange",t),()=>window.removeEventListener("fullscreenchange",t)},[]),n.useEffect(()=>{D(t=>t.includes(l)?t:[l,...t.slice(0,19)])},[l]),n.useEffect(()=>{try{localStorage.setItem("recents",JSON.stringify(y))}catch{}},[y]),n.useEffect(()=>{try{localStorage.setItem("favorites",JSON.stringify(v))}catch{}},[v]),n.useEffect(()=>{if(!g.find(S=>String(S==null?void 0:S.id)===l)){h("/");return}let u=!0;return(async()=>{try{const S=await Se(l);if(!u)return;G(S)}catch(S){console.error("âŒ Lá»—i khi load game detail:",S),h("/")}})(),()=>{u=!1}},[l,h,i.pathname]),n.useEffect(()=>{if(!s||!c.current)return;const t=()=>{o.current=!0},u=()=>{o.current=!1},S=setInterval(()=>{var j;o.current&&document.activeElement!==r.current&&((j=r.current)==null||j.focus())},1e3),I=c.current;return I.addEventListener("mouseenter",t),I.addEventListener("mouseleave",u),()=>{I.removeEventListener("mouseenter",t),I.removeEventListener("mouseleave",u),clearInterval(S)}},[s==null?void 0:s.id]),n.useEffect(()=>{if(!s)return;const t=[m=>`${m.name} ðŸŽ® Free Online Game | GmG`,m=>`Play ${m.name} â€“ ${m.genre||"Fun"} Game | GmG`,m=>`${m.name} | Browser ${m.genre||"Game"} | GmG`,m=>`${m.name} ðŸ•¹ï¸ Free to Play | GmG`,m=>`Enjoy ${m.name} â€“ No Download Needed | GmG`,m=>`Play ${m.name} Online | Free ${m.category||"Game"} | GmG`,m=>`${m.name} | Free ${m.genre||"Casual"} Game | GmG`,m=>`Play ${m.name} Now â€“ Online ${m.genre||"Game"} | GmG`,m=>`${m.name} ðŸ’¡ Fun ${m.genre||"Puzzle"} Game | GmG`,m=>`${m.name} ðŸš€ Free to Play Online | GmG`,m=>`${m.name} 2025 â€“ Free ${m.genre||"Online"} Game | GmG`],S=(m=>{var K;if(!(m!=null&&m.name))return"Play Free Games Online | GmG";const z=Number(m.id),W=Number.isFinite(z)?Math.abs(z)%t.length:Math.abs(((K=m.name)==null?void 0:K.length)||0)%t.length;return t[W](m)})(s);document.title=S;const I=s.about_short&&!s.about_short.includes("Oops")&&s.about_short||s.about&&!s.about.includes("Oops")&&s.about||"Play exciting online games on our platform.",j=I.length>180?`${I.slice(0,177)}...`:I;function N(m,z,W=!1){const K=W?`meta[property="${m}"]`:`meta[name="${m}"]`;let A=document.querySelector(K);A?A.setAttribute("content",z):(A=document.createElement("meta"),W?A.setAttribute("property",m):A.setAttribute("name",m),A.setAttribute("content",z),document.head.appendChild(A))}N("title",S),N("description",j),N("og:title",S,!0),N("og:description",j,!0),N("og:type","website",!0),s.thumb_url&&N("og:image",s.thumb_url,!0),N("twitter:title",S),N("twitter:description",j),s.thumb_url&&N("twitter:image",s.thumb_url),N("twitter:card","summary_large_image"),N("application-name",`${S} - Lite Page`),N("apple-mobile-web-app-title",`${S} - Lite Page`)},[s]),n.useEffect(()=>{if(!s)return;const t={"@context":"https://schema.org","@type":"VideoGame",name:s.name,url:window.location.href,image:s.thumb_url||void 0,description:s.about_short||"Play exciting online games on our platform.",publisher:{"@type":"Organization",name:"GmG Studio"},genre:s.genre||"Other",gamePlatform:["Web","PC","Mobile"]},u=document.createElement("script");return u.type="application/ld+json",u.text=JSON.stringify(t),document.head.appendChild(u),()=>{document.head.removeChild(u)}},[s]);const d=()=>{const t=Q.current;if(!t){O(m=>!m);return}const u=t.getBoundingClientRect(),S=320,I=300;let j=u.right-S;j<8&&(j=8);let N=u.top-I-12;N<8&&(N=8),J({left:j,top:N}),b(!1),O(!0)},p=()=>{b(!0),setTimeout(()=>{O(!1),b(!1)},220)};n.useEffect(()=>{if(!F)return;const t=()=>p();return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[F]);const x=!!(s!=null&&s.id);return e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),x&&e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"game-page",children:[e.jsxs("div",{className:"game-content",children:[e.jsxs("div",{className:"game-frame",ref:c,children:[e.jsx("iframe",{src:s.link,ref:r,sandbox:"allow-scripts allow-same-origin allow-pointer-lock",tabIndex:-1,title:s.name}),e.jsxs("div",{className:"toolbar",children:[e.jsxs("div",{className:"game-name",children:[s.thumb_url&&e.jsx("img",{src:s.thumb_url,alt:s.name||"Game"}),e.jsx("h2",{children:s.name})]}),e.jsxs("div",{className:"toolbar-icons",children:[e.jsx("img",{className:"toolbar-icon",title:"Favorite game",src:L?Ce:ke,onClick:P,alt:"Favorite"}),e.jsx("img",{className:"toolbar-icon",title:"Share game",src:Ge,onClick:()=>{var t;(t=navigator.clipboard)==null||t.writeText(window.location.href),H(!0)},alt:"Share"}),e.jsx("img",{className:"toolbar-icon",ref:Q,src:Ie,alt:"QR",title:"Show QR to continue on phone",onClick:()=>F?p():d()}),e.jsx("img",{className:"toolbar-icon",title:"Toggle fullscreen",src:_?$e:Ee,onClick:U,alt:"Fullscreen"})]}),F&&e.jsx("div",{className:`qr-flyout ${T?"leave":"enter"}`,style:{position:"fixed",left:`${M.left}px`,top:`${M.top}px`,width:320,zIndex:9999,pointerEvents:"auto"},children:e.jsxs("div",{style:{background:"#1e1f29",color:"#fff",borderRadius:16,padding:16,boxShadow:"0 12px 28px rgba(0,0,0,0.35)",position:"relative",overflow:"hidden"},children:[e.jsx("button",{onClick:p,"aria-label":"Close",style:{position:"absolute",top:8,right:8,background:"transparent",border:"none",color:"#bdbdbd",fontSize:18,cursor:"pointer",lineHeight:1},children:"âœ•"}),e.jsxs("div",{style:{display:"flex",gap:12},children:[e.jsx("div",{style:{background:"#fff",borderRadius:12,padding:10,flex:"0 0 auto"},children:e.jsx(he,{value:window.location.href,size:120})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("h3",{style:{margin:"2px 0 6px",fontSize:16,fontWeight:700,color:"#c9a4ff"},children:"Continue on your phone or tablet!"}),e.jsxs("p",{style:{margin:0,fontSize:13.5,lineHeight:1.35,color:"#cfcfcf"},children:["Play ",e.jsx("b",{children:(s==null?void 0:s.name)||"this game"})," on your phone or tablet by scanning this QR code! It's available on iPads, iPhones, and any Android devices."]})]})]})]})})]})]}),e.jsx($,{type:"2369730540"},`2369730540-${i.pathname}`),e.jsxs("div",{className:"game-info",children:[(s==null?void 0:s.about)&&!s.about.includes("Oops")&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"About"}),e.jsx("p",{children:s.about})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsxs("h2",{children:["More ",s.genre]}),e.jsx("div",{className:"more-games",children:e.jsx("div",{className:"more-games-list",children:g.filter(t=>t.id!==s.id&&t.genre===s.genre).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})})]}),e.jsx($,{type:"5386776126",delay:200},`5386776126-${i.pathname}`),Array.isArray(s==null?void 0:s.controls)&&s.controls.length>0&&!s.controls.includes("Still working on this one O_O")&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Controls"}),e.jsx("ul",{children:s.controls.map((t,u)=>e.jsx("li",{children:t},u))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Game Information"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["Developer: ",s.dev]}),e.jsxs("li",{children:["Category: ",V(s.category)]}),e.jsxs("li",{children:["Genre: ",s.genre]}),e.jsxs("li",{children:["Players: ",s.popularity]}),e.jsxs("li",{children:["Release Date: ",s.releaseDate]}),e.jsxs("li",{children:["Build: ",s.build]})]})]}),e.jsx($,{type:"5386776126",delay:200},`5386776126-${i.pathname}`),Array.isArray(s==null?void 0:s.faqs)&&s.faqs.length>0&&e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"FAQs"}),e.jsx("ul",{children:s.faqs.map((t,u)=>e.jsxs("li",{children:[e.jsx("strong",{children:t.name}),e.jsx("br",{}),t.text]},u))})]})]})]}),e.jsxs("div",{className:"right",children:[e.jsx($,{type:"7458405690",delay:500},`7458405690-${i.pathname}`),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Trending Games"}),e.jsx("div",{className:"more-games-list",children:g.slice().sort((t,u)=>(u.popularity??0)-(t.popularity??0)).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})]}),e.jsx($,{type:"5386776126",delay:200},`5386776126-${i.pathname}`),e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"New Releases"}),e.jsx("div",{className:"more-games-list",children:g.slice().sort((t,u)=>new Date(u.releaseDate)-new Date(t.releaseDate)).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})]}),e.jsx($,{type:"2369730540",delay:200},`2369730540-${i.pathname}`)," s",e.jsxs("div",{className:"game-info-section",children:[e.jsx("h3",{children:"Recently Played"}),e.jsx("div",{className:"more-games-list",children:y.map(t=>g.find(u=>u.id.toString()===t)).filter(Boolean).slice(0,8).map(t=>e.jsx(E,{game:t},t.id))})]}),e.jsxs("div",{className:"game-info-section",children:[e.jsx($,{type:"3495912284",delay:200},`3495912284-${i.pathname}`),e.jsx("h3",{children:"Discover More"}),e.jsx("div",{className:"more-games-list",children:(()=>{const t=g.slice().sort((j,N)=>(N.popularity??0)-(j.popularity??0)).slice(0,8),u=g.slice().sort((j,N)=>new Date(N.releaseDate)-new Date(j.releaseDate)).slice(0,8),S=JSON.parse(localStorage.getItem("playedGames")||"[]").map(j=>g.find(N=>N.id===j)).filter(Boolean).slice(0,8),I=new Set([s.id,...t.map(j=>j.id),...u.map(j=>j.id),...S.map(j=>j.id)]);return g.filter(j=>!I.has(j.id)).sort(()=>Math.random()-.5).slice(0,8).map(j=>e.jsx(E,{game:j},j.id))})()})]})]})]}),e.jsx($,{type:"2369730540",delay:200},`2369730540-${i.pathname}`),e.jsx(te,{})]}),q&&e.jsx(Me,{title:"Share game",description:"Link copied! Send the game link to anyone via email, social media, or more to share the fun and enjoy the entertainment together!",setState:H})]})}function Pe({title:a,description:i}){return e.jsxs("div",{className:"hero",children:[e.jsx("h1",{className:"hero-title",children:a}),e.jsx("p",{className:"hero-description",children:i})]})}function Y({page:a}){const i=B(),[h,c]=n.useState(""),[r,o]=n.useState([]),[f,l]=n.useState(localStorage.getItem("theme")||"orange"),g=localStorage.getItem("recents")?JSON.parse(localStorage.getItem("recents")):[];return n.useRef(),n.useRef(),n.useRef(),n.useEffect(()=>{document.title=`${a[0].toUpperCase()+a.substring(1)} | GmG`},[a]),n.useEffect(()=>{document.body.classList.remove("light","red","blue","green","orange"),(localStorage.getItem("mode")?JSON.parse(localStorage.getItem("mode")):!1)?document.body.classList.add("light"):(localStorage.setItem("theme",f),document.body.classList.add(f))},[f]),n.useEffect(()=>{let s=!0;return(async()=>{const G=await re(),v=Array.isArray(G==null?void 0:G.games)?G.games:[];if(s)switch(a){case"new":c("On each seasonal update we add tons of new games to GmG, and you can access the games added in the previous update here! Play and discover all the new awesome games directly from the New tab!"),o(v.filter(w=>w.new));break;case"trending":c("Here are the top 10 games on GmG right now, sorted by total plays! View and play the most popular games everyone's playing, all easily through the Trending tab! (This list updates every season)"),o(v.filter(w=>w.trending).sort((w,L)=>L.trending-w.trending));break;case"recent":c("With the Recent tab, you can quickly access the games you've recently played, making it easy to jump right back and continue playing them without browsing through every game to find them!"),o(g.map(w=>v.find(L=>L.id.toString()===w)).filter(Boolean));break;case"settings":c("Here, you can set a fully customized theme for a more personalized gaming experience");break}})(),()=>{s=!1}},[a,g]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsxs("div",{className:"wrap",children:[e.jsxs("div",{className:"content",children:[e.jsx(Pe,{title:a[0].toUpperCase()+a.substring(1),description:h}),e.jsx($,{type:"3495912284"},`3495912284-${a}-${i.pathname}`),a!=="settings"&&e.jsxs("div",{className:"games-container",children:[a!=="trending"&&r.map(s=>e.jsx(E,{game:s},s.id)),a==="trending"&&e.jsx("div",{className:"trending-games",children:r.map((s,G)=>{var v;return e.jsxs("div",{className:"trending-game",children:[e.jsxs("div",{className:"trending-plays",children:[e.jsxs("span",{className:"rank",children:["ðŸ† #",G+1]}),e.jsxs("span",{className:"plays-count",children:[(v=s.trending)==null?void 0:v.toLocaleString()," plays"]})]}),e.jsx(E,{game:s})]},s.id)})}),r.length===0&&e.jsx(e.Fragment,{children:a==="recent"&&e.jsx(e.Fragment,{children:"You haven't played any games on GmG yet! Browse our collection of the best online games on the homepage or from the tabs above!"})})]}),a==="settings"&&e.jsx("div",{className:"settings",children:e.jsxs("div",{className:"setting",children:[e.jsx("h2",{className:"setting-name",children:"Themes"}),e.jsxs("select",{className:"setting-dropdown",value:f,onChange:s=>l(s.target.value),children:[e.jsx("option",{value:"orange",children:"Sun"}),e.jsx("option",{value:"blue",children:"Ocean"}),e.jsx("option",{value:"green",children:"Forest"}),e.jsx("option",{value:"red",children:"Mars"})]})]})}),e.jsx($,{type:"2369730540",delay:200},`2369730540-${i.pathname}`)]}),e.jsx(te,{})]})]})}function ze(){const{pathname:a}=B();return n.useEffect(()=>{window.scrollTo(0,0)},[a]),null}function Be(){return e.jsxs(ge,{children:[e.jsx(ze,{}),e.jsxs(fe,{children:[e.jsx(R,{path:"/",element:e.jsx(Te,{})}),e.jsx(R,{path:"/new",element:e.jsx(Y,{page:"new"})}),e.jsx(R,{path:"/trending",element:e.jsx(Y,{page:"trending"})}),e.jsx(R,{path:"/recent",element:e.jsx(Y,{page:"recent"})}),e.jsx(R,{path:"/settings",element:e.jsx(Y,{page:"settings"})}),e.jsx(R,{path:"/game/:id/:slug",element:e.jsx(ne,{})}),e.jsx(R,{path:"/game/:id",element:e.jsx(ne,{})})]})]})}const qe={apiKey:"AIzaSyC__9_RAHbGLchSKPVY044w3g87xPSkoGw",authDomain:"gmg-studio-38512.firebaseapp.com",projectId:"gmg-studio-38512",storageBucket:"gmg-studio-38512.firebasestorage.app",messagingSenderId:"365625944904",appId:"1:365625944904:web:be99cb2382c38813dee17d",measurementId:"G-H8E6JG24D0"},He=pe(qe);xe(He);je.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(Re,{children:e.jsx(Be,{})})}));
